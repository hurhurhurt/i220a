Script started on 2019-10-18 13:09:37-04:00 [TERM="xterm" TTY="/dev/pts/19" COLUMNS="100" LINES="35"]
thur1@remote03:~/git-repos/i220a/work/lab6$ cd[K[Kls
files  lab6.html  lab6.log  lab6.pdf  lab6.umt	Makefile
thur1@remote03:~/git-repos/i220a/work/lab6$ cd files
thur1@remote03:~/git-repos/i220a/work/lab6/files$ ls
brk  bug-program  process-memory
thur1@remote03:~/git-repos/i220a/work/lab6/files$ cd process-memory
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ls
Makefile  process-memory.c
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ make
cc -g -Wall -std=c11 -O1    process-memory.c   -o process-memory
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ./[r[K[K[Kpr[K[K/process-em[K[Kmemory 10
10 MB allocated at 0x7f1233da7010
^X^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ p[K./rp[K[Kprocess-memory 500
500 MB allocated at 0x7fb851dce010
return
^X^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ./process memory 10
bash: ./process: No such file or directory
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ make
make: Nothing to be done for 'all'.
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ make./process memory 10-memory 500[1P10
10 MB allocated at 0x7fb451b25010
^X^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ./process-memory 10make[K./process-memory 10make[K./process memory 10-memory 500[K[K1[K[K10 &
[1] 31251
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ 10 MB allocated at 0x7f9efd64b010
man [K[K[K[K^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ man ps
[?1049h[22;0;0t[?1h=PS(1)                                     User Commands                                     PS(1)[m
[m
[1mNAME[0m[m
       ps - report a snapshot of the current processes.[m
[m
[1mSYNOPSIS[0m[m
       [1mps[0m [[4moptions[24m][m
[m
[1mDESCRIPTION[0m[m
       [1mps[0m displays information about a selection of the active processes.  If you want a[m
       repetitive update of the selection and the displayed information, use [4mtop[24m(1) instead.[m
[m
       This version of [1mps[0m accepts several kinds of options:[m
[m
       1   UNIX options, which may be grouped and must be preceded by a dash.[m
       2   BSD options, which may be grouped and must not be used with a dash.[m
       3   GNU long options, which are preceded by two dashes.[m
[m
       Options of different types may be freely mixed, but conflicts can appear.  There are some[m
       synonymous options, which are functionally identical, due to the many standards and [1mps[0m[m
       implementations that this [1mps[0m is compatible with.[m
[m
       Note that "[1mps[0m [1m-aux[0m" is distinct from "[1mps[0m [1maux[0m".  The POSIX and UNIX standards require that[m
       "[1mps[0m [1m-aux[0m" print all processes owned by a user named "x", as well as printing all processes[m
       that would be selected by the [1m-a[0m option.  If the user named "x" does not exist, this [1mps[0m[m
       may interpret the command as "[1mps[0m [1maux[0m" instead and print a warning.  This behavior is[m
       intended to aid in transitioning old scripts and habits.  It is fragile, subject to[m
       change, and thus should not be relied upon.[m
[m
       By default, [1mps[0m selects all processes with the same effective user ID (euid=EUID) as the[m
       current user and associated with the same terminal as the invoker.  It displays the[m
       process ID (pid=PID), the terminal associated with the process (tname=TTY), the cumulated[m
       CPU time in [DD-]hh:mm:ss format (time=TIME), and the executable name (ucmd=CMD).  Output[m
       is unsorted by default.[m
[7m Manual page ps(1) line 1 (press h for help or q to quit)[27m[K[K [K^X^X[K[7m Manual page ps(1) line 1 (press h for help or q to quit)[27m[K[K[?1l>[?1049l[23;0;0tthur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ps -Fp PID
error: process ID list syntax error

Usage:
 ps [options]

 Try 'ps --help <simple|list|output|threads|misc|all>'
  or 'ps --help <s|l|o|t|m|a>'
 for additional help text.

For more details see ps(1).
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ ./r[Kprocess-memor [Ky 100
100 MB allocated at 0x7f7b00b4a010
^X^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/process-memory$ cd ..
thur1@remote03:~/git-repos/i220a/work/lab6/files$ cd bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ls
bug-program.c  Makefile
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-rp[K[Kprogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emas [K[Kcs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K[34;30H[7m45% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[35d[?25lEnd of buffer[30;1H[?12l[?25h[?12;25h[35d[K[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m44% L48[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K[34;30H[7m20% L31[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[14L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A[34;30H[7mTop L14[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[C[34;35H[?25l[7m9[0m[39;49m[27m[10;2H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m1[0m[39;49m[27m[22;3H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;4H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;4H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;4H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[24;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;6H[?25l[7m**[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25l[46m([39;49ms)[?12l[?25h[?12;25h[?25l(s);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;11H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;11H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[19;11H[?12l[?25h[?12;25h[35;1H[K[19;11H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[1]+  Done                    ./process-memory 10  (wd: ~/git-repos/i220a/work/lab6/files/process-memory)
(wd now: ~/git-repos/i220a/work/lab6/files/bug-program)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-r[Kpo[Krogram
: 22
@UãdpU: 21
 UãdpU: 20
: 19
àTãdpU: 18
ÀTãdpU: 17
 TãdpU: 16
€TãdpU: 15
`TãdpU: 14
@TãdpU: 13
 TãdpU: 12
: 11
àSãdpU: 10
ÀSãdpU: 9
 SãdpU: 8
€SãdpU: 7
`SãdpU: 6
@SãdpU: 5
 SãdpU: 4
: 3
àRãdpU: 2
ÀRãdpU: 1
 RãdpU: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-prob[Kgram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  free(s);[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[K[34;6H[?25l[7m**[0m[39;49m[27m[19;10H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[C[C[1;33r[19;1H[1M[1;35r[33;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;36H[7m3[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;46H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;44H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;31H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;52H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;36H[?12l[?25h[?12;25h[34d[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;52H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[33;52H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K[34;30H[7m45% L49[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;25H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;24H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;52H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;52H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;48H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;47H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;5H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;29H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;52H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;38H[?12l[?25h[?12;25h




[?25l[7m1[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h

[?25lAuto-saving...[33;1H[?12l[?25h[?12;25h[35;15H[?25ldone[33;1H[?12l[?25h[?12;25h

[K[2d[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[5;3H[1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[10;3H};[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K[12;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K[13;3H  p = add_key_value(p, keys[i], i);
[2@[15;3H[1m[36mreturn[0m[39;49m p;
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K[22;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K[23;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[24;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[K[25;3H}[K
free_key_values(keyValues);[27;3H[1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[1;34r[33;1H[1M[1;35r[35;1H[?25l[34mr, d or C-h) [39;49m[A[34mSave file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c? (y, n, !, ., q, C-[39;49m\
[A[35;14H[?12l[?25h[?12;25h[?25lr, d or C-h) y[ASave file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c? (y, n, !, ., q, C-[35;15H[?12l[?25h[?12;25h[K[34;4H[?25ling file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[K[18;52H[?12l[?25h[?12;25h[34;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[18;52H[?12l[?25h[?12;25h[33;1H[K
[?25l[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Bot L65    (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[18;52H[?12l[?25h[?12;25h[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ valgrind ./bu-[Kg-program
==32072== Memcheck, a memory error detector
==32072== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==32072== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==32072== Command: ./bug-program
==32072== 
==32072== Invalid write of size 1
==32072==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==32072==    by 0x10930E: add_key_value (bug-program.c:30)
==32072==    by 0x10930E: make_key_values (bug-program.c:61)
==32072==    by 0x10930E: main (bug-program.c:70)
==32072==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid write of size 4
==32072==    at 0x109312: add_key_value (bug-program.c:33)
==32072==    by 0x109312: make_key_values (bug-program.c:61)
==32072==    by 0x109312: main (bug-program.c:70)
==32072==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092D3: add_key_value (bug-program.c:21)
==32072==    by 0x1092D3: make_key_values (bug-program.c:61)
==32072==    by 0x1092D3: main (bug-program.c:70)
==32072== 
==32072== Invalid write of size 8
==32072==    at 0x109315: add_key_value (bug-program.c:33)
==32072==    by 0x109315: make_key_values (bug-program.c:61)
==32072==    by 0x109315: main (bug-program.c:70)
==32072==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092D3: add_key_value (bug-program.c:21)
==32072==    by 0x1092D3: make_key_values (bug-program.c:61)
==32072==    by 0x1092D3: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 4
==32072==    at 0x109338: main (bug-program.c:72)
==32072==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092D3: add_key_value (bug-program.c:21)
==32072==    by 0x1092D3: make_key_values (bug-program.c:61)
==32072==    by 0x1092D3: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x4838C62: strlen (vg_replace_strmem.c:460)
==32072==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fe50 is 0 bytes inside a block of size 8 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==32072==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fe51 is 1 bytes inside a block of size 8 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x48F8847: _IO_default_xsputn (genops.c:399)
==32072==    by 0x48F8847: _IO_default_xsputn (genops.c:370)
==32072==    by 0x48F6AD0: _IO_new_file_xsputn (fileops.c:1272)
==32072==    by 0x48F6AD0: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1204)
==32072==    by 0x48CB1FA: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fe50 is 0 bytes inside a block of size 8 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
outgrabe: 22
==32072== Invalid read of size 8
==32072==    at 0x10934C: main (bug-program.c:71)
==32072==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092D3: add_key_value (bug-program.c:21)
==32072==    by 0x1092D3: make_key_values (bug-program.c:61)
==32072==    by 0x1092D3: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x48F6A25: _IO_new_file_xsputn (fileops.c:1226)
==32072==    by 0x48F6A25: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1204)
==32072==    by 0x48CB1FA: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fdb4 is 4 bytes inside a block of size 5 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x48F6A3C: _IO_new_file_xsputn (fileops.c:1226)
==32072==    by 0x48F6A3C: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1204)
==32072==    by 0x48CB1FA: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fdb3 is 3 bytes inside a block of size 5 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x483D4E0: mempcpy (vg_replace_strmem.c:1536)
==32072==    by 0x48F69E4: _IO_new_file_xsputn (fileops.c:1243)
==32072==    by 0x48F69E4: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1204)
==32072==    by 0x48CB1FA: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fdb4 is 4 bytes inside a block of size 5 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
==32072== Invalid read of size 1
==32072==    at 0x483D4F1: mempcpy (vg_replace_strmem.c:1536)
==32072==    by 0x48F69E4: _IO_new_file_xsputn (fileops.c:1243)
==32072==    by 0x48F69E4: _IO_file_xsputn@@GLIBC_2.2.5 (fileops.c:1204)
==32072==    by 0x48CB1FA: vfprintf (vfprintf.c:1638)
==32072==    by 0x48D3605: printf (printf.c:33)
==32072==    by 0x10934B: main (bug-program.c:72)
==32072==  Address 0x4a3fdb2 is 2 bytes inside a block of size 5 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x109320: add_key_value (bug-program.c:34)
==32072==    by 0x109320: make_key_values (bug-program.c:61)
==32072==    by 0x109320: main (bug-program.c:70)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092F6: add_key_value (bug-program.c:24)
==32072==    by 0x1092F6: make_key_values (bug-program.c:61)
==32072==    by 0x1092F6: main (bug-program.c:70)
==32072== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==32072== Invalid read of size 8
==32072==    at 0x10935D: free_key_values (bug-program.c:43)
==32072==    by 0x10935D: main (bug-program.c:74)
==32072==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==32072==    at 0x48369AB: free (vg_replace_malloc.c:530)
==32072==    by 0x10935C: free_key_values (bug-program.c:44)
==32072==    by 0x10935C: main (bug-program.c:74)
==32072==  Block was alloc'd at
==32072==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==32072==    by 0x1092D3: add_key_value (bug-program.c:21)
==32072==    by 0x1092D3: make_key_values (bug-program.c:61)
==32072==    by 0x1092D3: main (bug-program.c:70)
==32072== 
==32072== 
==32072== HEAP SUMMARY:
==32072==     in use at exit: 0 bytes in 0 blocks
==32072==   total heap usage: 47 allocs, 47 frees, 1,308 bytes allocated
==32072== 
==32072== All heap blocks were freed -- no leaks are possible
==32072== 
==32072== For counts of detected and suppressed errors, rerun with: -v
==32072== ERROR SUMMARY: 453 errors from 13 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[35d[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ MALLOC_CHECK=1 bu[K[K./bug-program
: 22
@Å=JyU: 21
 Å=JyU: 20
: 19
àÄ=JyU: 18
ÀÄ=JyU: 17
 Ä=JyU: 16
€Ä=JyU: 15
`Ä=JyU: 14
@Ä=JyU: 13
 Ä=JyU: 12
: 11
àÃ=JyU: 10
ÀÃ=JyU: 9
 Ã=JyU: 8
€Ã=JyU: 7
`Ã=JyU: 6
@Ã=JyU: 5
 Ã=JyU: 4
: 3
àÂ=JyU: 2
ÀÂ=JyU: 1
 Â=JyU: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-grp[K[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[35d[?25l(No changes need to be saved)[17;1H[?12l[?25h[?12;25h[35d[K[17d[35d[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./big=[K[K[Kug-por[K[Krogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ MALOC_[K[K[KLOC_CHECK [K_=1 ./bug-rp[K[Kprogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): invalid pointer
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ valgrind -v --leak-check [Kyes [K[K[K[K=yes ./bug-pro gram 2>bug-program.valgrind
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs ub-g[K[K[K[Kbug-rp[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[?25l );[34;6H[7m**[0m[39;49m[27m[25;30H[?12l[?25h[?12;25h[?25l+);[?12l[?25h[?12;25h[?25l );[?12l[?25h[?12;25h[?25ls);[?12l[?25h[?12;25h[?25li);[?12l[?25h[?12;25h[?25lz);[?12l[?25h[?12;25h[?25le);[?12l[?25h[?12;25h[?25lo);[?12l[?25h[?12;25h[?25l[1m[36msizeof[0m[39;49m);[?12l[?25h[?12;25h[?25l();[?12l[?25h[?12;25h[?25ls);[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25lc);[?12l[?25h[?12;25h[?25lh);[?12l[?25h[?12;25h[?25la);[?12l[?25h[?12;25h[?25l[32mchar[39;49m);[?12l[?25h[?12;25h[?25l[46m([39;49m[32mchar[39;49m));[?12l[?25h[?12;25h[?25l([25;44H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;44H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;44H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;45H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;39H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;39H[?12l[?25h[?12;25h	[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;38H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;38H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;38H[?12l[?25h[?12;25h


[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;30H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;38H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;38H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;38H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;31H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;38H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;36H[?12l[?25h[?12;25h[34d[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[29;4H[?12l[?25h[?12;25h[35;15H[?25ldone[29;4H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[C[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K[34;30H[7m46% L49[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;25H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;24H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;38H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;38H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;38H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;38H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;5H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;29H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[27;29H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[27;29H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[27;29H[?12l[?25h[?12;25h[35;1H[K[27;29H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./big=[K[K[Kug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs Makefile
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools Makefile Help                                                       [0m[39;49m[27m
[A
[33mCFLAGS[39;49m = -g -Wall -std=c11 -O1[K
[K
[33mTARGETS[39;49m = bug-program[K
[K
[1m[34mall[0m[39;49m:            $([33mTARGETS[39;49m)[K
[K
[1m[34mclean[0m[39;49m:[K
                rm -f *.o *~ $([33mTARGETS[39;49m)[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mMakefile    [0m[39;49m[27m[7m   All L2     (GNUmakefile) -----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;34H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;34H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;27H[?12l[?25h[?12;25h[34;6H[?25l[7m**[0m[39;49m[27m[6;28H[?12l[?25h[?12;25h[?25lv[?12l[?25h[?12;25h[?25la[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25lg[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25li[?12l[?25h[?12;25h[?25ln[?12l[?25h[?12;25h[?25ld[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[C[?25lm[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lh[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[34;34H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;36H[?12l[?25h[?12;25h[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m7[0m[39;49m[27m[8;7H[?12l[?25h[?12;25h[34;34H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C	[34;34H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;34H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lh[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25l[1m[34mmemcheck[0m[39;49m:[?12l[?25h[?12;25h[C[?25l$[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25l[33mT[39;49m[?12l[?25h[?12;25h[?25l[33mA[39;49m[?12l[?25h[?12;25h[?25l[33mR[39;49m[?12l[?25h[?12;25h[?25l[33mG[39;49m[?12l[?25h[?12;25h[?25l[33mE[39;49m[?12l[?25h[?12;25h[?25l[33mT[39;49m[?12l[?25h[?12;25h[?25l[33mD[39;49m[?12l[?25h[?12;25h[11;12H[?25l[46m([39;49m[33mTARGETD[39;49m)[?12l[?25h[?12;25h[11;12H[?25l([33mTARGETD[39;49m[K[?12l[?25h[?12;25h[K[?25l[33mS[39;49m[?12l[?25h[?12;25h[11;12H[?25l[46m([39;49m[33mTARGETS[39;49m)[?12l[?25h[?12;25h[11;12H[?25l([34;35H[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[?25l[45m        [39;49m[?12l[?25h[?12;25h[?25l        v[?12l[?25h[?12;25h[?25la[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25lg[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25li[?12l[?25h[?12;25h[?25ln[?12l[?25h[?12;25h[?25ld[?12l[?25h[?12;25h[C[?25l.[?12l[?25h[?12;25h[?25l/[?12l[?25h[?12;25h[?25l$[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25l[33mT[39;49m[?12l[?25h[?12;25h[?25l[33mA[39;49m[?12l[?25h[?12;25h[?25l[33mR[39;49m[?12l[?25h[?12;25h[?25l[33mG[39;49m[?12l[?25h[?12;25h[?25l[33mE[39;49m[?12l[?25h[?12;25h[?25l[33mT[39;49m[?12l[?25h[?12;25h[?25l[33mD[39;49m[?12l[?25h[?12;25h[K[?25l[33mS[39;49m[?12l[?25h[?12;25h[12;21H[?25l[46m([39;49m[33mTARGETS[39;49m)[?12l[?25h[?12;25h[12;21H[?25l([12;30H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/Makefile...[12;30H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/Makefile[K[12;30H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;30H[?12l[?25h[?12;25h[35;1H[K[12;30H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
valgrind ./bug-program
==522== Memcheck, a memory error detector
==522== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==522== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==522== Command: ./bug-program
==522== 
==522== Invalid write of size 4
==522==    at 0x10930E: add_key_value (bug-program.c:33)
==522==    by 0x10930E: make_key_values (bug-program.c:60)
==522==    by 0x10930E: main (bug-program.c:69)
==522==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==522==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==522==    by 0x1092D3: add_key_value (bug-program.c:21)
==522==    by 0x1092D3: make_key_values (bug-program.c:60)
==522==    by 0x1092D3: main (bug-program.c:69)
==522== 
==522== Invalid write of size 8
==522==    at 0x109311: add_key_value (bug-program.c:33)
==522==    by 0x109311: make_key_values (bug-program.c:60)
==522==    by 0x109311: main (bug-program.c:69)
==522==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==522==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==522==    by 0x1092D3: add_key_value (bug-program.c:21)
==522==    by 0x1092D3: make_key_values (bug-program.c:60)
==522==    by 0x1092D3: main (bug-program.c:69)
==522== 
==522== Invalid read of size 4
==522==    at 0x10932C: main (bug-program.c:71)
==522==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==522==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==522==    by 0x1092D3: add_key_value (bug-program.c:21)
==522==    by 0x1092D3: make_key_values (bug-program.c:60)
==522==    by 0x1092D3: main (bug-program.c:69)
==522== 
outgrabe: 22
==522== Invalid read of size 8
==522==    at 0x109340: main (bug-program.c:70)
==522==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==522==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==522==    by 0x1092D3: add_key_value (bug-program.c:21)
==522==    by 0x1092D3: make_key_values (bug-program.c:60)
==522==    by 0x1092D3: main (bug-program.c:69)
==522== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==522== Invalid read of size 8
==522==    at 0x109351: free_key_values (bug-program.c:42)
==522==    by 0x109351: main (bug-program.c:73)
==522==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==522==    at 0x48369AB: free (vg_replace_malloc.c:530)
==522==    by 0x109350: free_key_values (bug-program.c:43)
==522==    by 0x109350: main (bug-program.c:73)
==522==  Block was alloc'd at
==522==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==522==    by 0x1092D3: add_key_value (bug-program.c:21)
==522==    by 0x1092D3: make_key_values (bug-program.c:60)
==522==    by 0x1092D3: main (bug-program.c:69)
==522== 
==522== 
==522== HEAP SUMMARY:
==522==     in use at exit: 123 bytes in 23 blocks
==522==   total heap usage: 47 allocs, 24 frees, 1,331 bytes allocated
==522== 
==522== LEAK SUMMARY:
==522==    definitely lost: 123 bytes in 23 blocks
==522==    indirectly lost: 0 bytes in 0 blocks
==522==      possibly lost: 0 bytes in 0 blocks
==522==    still reachable: 0 bytes in 0 blocks
==522==         suppressed: 0 bytes in 0 blocks
==522== Rerun with --leak-check=full to see details of leaked memory
==522== 
==522== For counts of detected and suppressed errors, rerun with: -v
==522== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs [K[K[K[K[K[Kma[K[Kmake
valgrind ./bug-program
==578== Memcheck, a memory error detector
==578== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==578== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==578== Command: ./bug-program
==578== 
==578== Invalid write of size 4
==578==    at 0x10930E: add_key_value (bug-program.c:33)
==578==    by 0x10930E: make_key_values (bug-program.c:60)
==578==    by 0x10930E: main (bug-program.c:69)
==578==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==578==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==578==    by 0x1092D3: add_key_value (bug-program.c:21)
==578==    by 0x1092D3: make_key_values (bug-program.c:60)
==578==    by 0x1092D3: main (bug-program.c:69)
==578== 
==578== Invalid write of size 8
==578==    at 0x109311: add_key_value (bug-program.c:33)
==578==    by 0x109311: make_key_values (bug-program.c:60)
==578==    by 0x109311: main (bug-program.c:69)
==578==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==578==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==578==    by 0x1092D3: add_key_value (bug-program.c:21)
==578==    by 0x1092D3: make_key_values (bug-program.c:60)
==578==    by 0x1092D3: main (bug-program.c:69)
==578== 
==578== Invalid read of size 4
==578==    at 0x10932C: main (bug-program.c:71)
==578==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==578==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==578==    by 0x1092D3: add_key_value (bug-program.c:21)
==578==    by 0x1092D3: make_key_values (bug-program.c:60)
==578==    by 0x1092D3: main (bug-program.c:69)
==578== 
outgrabe: 22
==578== Invalid read of size 8
==578==    at 0x109340: main (bug-program.c:70)
==578==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==578==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==578==    by 0x1092D3: add_key_value (bug-program.c:21)
==578==    by 0x1092D3: make_key_values (bug-program.c:60)
==578==    by 0x1092D3: main (bug-program.c:69)
==578== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==578== Invalid read of size 8
==578==    at 0x109351: free_key_values (bug-program.c:42)
==578==    by 0x109351: main (bug-program.c:73)
==578==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==578==    at 0x48369AB: free (vg_replace_malloc.c:530)
==578==    by 0x109350: free_key_values (bug-program.c:43)
==578==    by 0x109350: main (bug-program.c:73)
==578==  Block was alloc'd at
==578==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==578==    by 0x1092D3: add_key_value (bug-program.c:21)
==578==    by 0x1092D3: make_key_values (bug-program.c:60)
==578==    by 0x1092D3: main (bug-program.c:69)
==578== 
==578== 
==578== HEAP SUMMARY:
==578==     in use at exit: 123 bytes in 23 blocks
==578==   total heap usage: 47 allocs, 24 frees, 1,331 bytes allocated
==578== 
==578== LEAK SUMMARY:
==578==    definitely lost: 123 bytes in 23 blocks
==578==    indirectly lost: 0 bytes in 0 blocks
==578==      possibly lost: 0 bytes in 0 blocks
==578==    still reachable: 0 bytes in 0 blocks
==578==         suppressed: 0 bytes in 0 blocks
==578== Rerun with --leak-check=full to see details of leaked memory
==578== 
==578== For counts of detected and suppressed errors, rerun with: -v
==578== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs Makf[Kefile
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools Makefile Help                                                       [0m[39;49m[27m
[A
[33mCFLAGS[39;49m = -g -Wall -std=c11 -O1[K
[K
[33mTARGETS[39;49m = bug-program[K
[K
[1m[34mall[0m[39;49m:            $([33mTARGETS[39;49m) memcheck[K
[K
[1m[34mclean[0m[39;49m:[K
                rm -f *.o *~ $([33mTARGETS[39;49m)[K
[K
[1m[34mmemcheck[0m[39;49m: $([33mTARGETS[39;49m)[K
        valgrind ./$([33mTARGETS[39;49m)[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mMakefile    [0m[39;49m[27m[7m   All L2     (GNUmakefile) -----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;34H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[C[34;34H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;36H[?12l[?25h[?12;25h[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m7[0m[39;49m[27m[8;7H[?12l[?25h[?12;25h[34;34H[?25l[7m8[0m[39;49m[27m[9;36H[?12l[?25h[?12;25h[34;34H[?25l[7m7[0m[39;49m[27m[8;7H[?12l[?25h[?12;25h[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;36H[?12l[?25h[?12;25h[1;33r[8;1H[1L[1;35r[8;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mMakefile    [0m[39;49m[27m[7m   All L6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[1;33r[9;1H[1L[1;35r[9;1H[K[34;34H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25ln[?12l[?25h[?12;25h[C[?25l[1m[34mrun[0m[39;49m:[?12l[?25h[?12;25h[C[?25l$[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25l[33mT[39;49m[?12l[?25h[?12;25h[?25l[33ma[39;49m[?12l[?25h[?12;25h[?25l[33mr[39;49m[?12l[?25h[?12;25h[K[K[K[K[K[C[?25lm[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lh[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[34;34H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;9H[?12l[?25h[?12;25h[34;34H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;34H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[?25l\[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[C[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/Makefile...[6;27H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/Makefile[K[6;27H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[6;27H[?12l[?25h[?12;25h[35;1H[K[6;27H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mae[Ke[Kke
make: Nothing to be done for 'all'.
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./[K[Kmake memeche[K[K[K[Kcheck
valgrind ./bug-program
==718== Memcheck, a memory error detector
==718== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==718== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==718== Command: ./bug-program
==718== 
==718== Invalid write of size 4
==718==    at 0x10930E: add_key_value (bug-program.c:33)
==718==    by 0x10930E: make_key_values (bug-program.c:60)
==718==    by 0x10930E: main (bug-program.c:69)
==718==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==718==    by 0x1092D3: add_key_value (bug-program.c:21)
==718==    by 0x1092D3: make_key_values (bug-program.c:60)
==718==    by 0x1092D3: main (bug-program.c:69)
==718== 
==718== Invalid write of size 8
==718==    at 0x109311: add_key_value (bug-program.c:33)
==718==    by 0x109311: make_key_values (bug-program.c:60)
==718==    by 0x109311: main (bug-program.c:69)
==718==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==718==    by 0x1092D3: add_key_value (bug-program.c:21)
==718==    by 0x1092D3: make_key_values (bug-program.c:60)
==718==    by 0x1092D3: main (bug-program.c:69)
==718== 
==718== Invalid read of size 4
==718==    at 0x10932C: main (bug-program.c:71)
==718==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==718==    by 0x1092D3: add_key_value (bug-program.c:21)
==718==    by 0x1092D3: make_key_values (bug-program.c:60)
==718==    by 0x1092D3: main (bug-program.c:69)
==718== 
outgrabe: 22
==718== Invalid read of size 8
==718==    at 0x109340: main (bug-program.c:70)
==718==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==718==    by 0x1092D3: add_key_value (bug-program.c:21)
==718==    by 0x1092D3: make_key_values (bug-program.c:60)
==718==    by 0x1092D3: main (bug-program.c:69)
==718== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==718== Invalid read of size 8
==718==    at 0x109351: free_key_values (bug-program.c:42)
==718==    by 0x109351: main (bug-program.c:73)
==718==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==718==    at 0x48369AB: free (vg_replace_malloc.c:530)
==718==    by 0x109350: free_key_values (bug-program.c:43)
==718==    by 0x109350: main (bug-program.c:73)
==718==  Block was alloc'd at
==718==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==718==    by 0x1092D3: add_key_value (bug-program.c:21)
==718==    by 0x1092D3: make_key_values (bug-program.c:60)
==718==    by 0x1092D3: main (bug-program.c:69)
==718== 
==718== 
==718== HEAP SUMMARY:
==718==     in use at exit: 123 bytes in 23 blocks
==718==   total heap usage: 47 allocs, 24 frees, 1,331 bytes allocated
==718== 
==718== LEAK SUMMARY:
==718==    definitely lost: 123 bytes in 23 blocks
==718==    indirectly lost: 0 bytes in 0 blocks
==718==      possibly lost: 0 bytes in 0 blocks
==718==    still reachable: 0 bytes in 0 blocks
==718==         suppressed: 0 bytes in 0 blocks
==718== Rerun with --leak-check=full to see details of leaked memory
==718== 
==718== For counts of detected and suppressed errors, rerun with: -v
==718== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs v[K[K[K[Kks[K[Kcs bug-rp[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + [1m[36msizeof[0m[39;49m([32mchar[39;49m));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;46H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;45H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;45H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;45H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;45H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;45H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;45H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;45H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;43H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;43H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;43H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;30H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;43H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;43H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;43H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;43H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;43H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;43H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[6;43H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[5;43H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[3;43H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[2;25H[?12l[?25h[?12;25h[1;33r[2;1H[16L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K[34;30H[7mTop L16[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;43H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;43H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;43H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;43H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;43H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;43H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;43H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;25H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;43H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;43H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;43H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;43H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;43H[?12l[?25h[?12;25h[C[?25l[1P[34;6H[7m**[0m[39;49m[27m[25;26H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[2P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@i[?12l[?25h[?12;25h[?25l[1@z[?12l[?25h[?12;25h[?25l[1@e[?12l[?25h[?12;25h[?25l[1@o[?12l[?25h[?12;25h[?25l[1@f[?12l[?25h[?12;25h[?25l[1m[36msizeof[0m[39;49m[1@([?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[25;27H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[25;27H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[25;27H[?12l[?25h[?12;25h[35;1H[K[25;27H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./b[K[K[Kmake memcheck
valgrind ./bug-program
==1103== Memcheck, a memory error detector
==1103== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1103== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==1103== Command: ./bug-program
==1103== 
==1103== Invalid write of size 4
==1103==    at 0x1092FC: add_key_value (bug-program.c:33)
==1103==    by 0x1092FC: make_key_values (bug-program.c:60)
==1103==    by 0x1092FC: main (bug-program.c:69)
==1103==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092D3: add_key_value (bug-program.c:21)
==1103==    by 0x1092D3: make_key_values (bug-program.c:60)
==1103==    by 0x1092D3: main (bug-program.c:69)
==1103== 
==1103== Invalid write of size 8
==1103==    at 0x1092FF: add_key_value (bug-program.c:33)
==1103==    by 0x1092FF: make_key_values (bug-program.c:60)
==1103==    by 0x1092FF: main (bug-program.c:69)
==1103==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092D3: add_key_value (bug-program.c:21)
==1103==    by 0x1092D3: make_key_values (bug-program.c:60)
==1103==    by 0x1092D3: main (bug-program.c:69)
==1103== 
==1103== Invalid write of size 1
==1103==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==1103==    by 0x1092F8: add_key_value (bug-program.c:30)
==1103==    by 0x1092F8: make_key_values (bug-program.c:60)
==1103==    by 0x1092F8: main (bug-program.c:69)
==1103==  Address 0x4a3fb39 is 0 bytes after a block of size 9 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092E0: add_key_value (bug-program.c:24)
==1103==    by 0x1092E0: make_key_values (bug-program.c:60)
==1103==    by 0x1092E0: main (bug-program.c:69)
==1103== 
==1103== Invalid read of size 4
==1103==    at 0x10931A: main (bug-program.c:71)
==1103==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092D3: add_key_value (bug-program.c:21)
==1103==    by 0x1092D3: make_key_values (bug-program.c:60)
==1103==    by 0x1092D3: main (bug-program.c:69)
==1103== 
outgrabe: 22
==1103== Invalid read of size 8
==1103==    at 0x10932E: main (bug-program.c:70)
==1103==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092D3: add_key_value (bug-program.c:21)
==1103==    by 0x1092D3: make_key_values (bug-program.c:60)
==1103==    by 0x1092D3: main (bug-program.c:69)
==1103== 
raths: 21
mome: 20
the: 19
and: 18
==1103== Invalid read of size 1
==1103==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==1103==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==1103==    by 0x48D3605: printf (printf.c:33)
==1103==    by 0x10932D: main (bug-program.c:71)
==1103==  Address 0x4a3fb39 is 0 bytes after a block of size 9 alloc'd
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092E0: add_key_value (bug-program.c:24)
==1103==    by 0x1092E0: make_key_values (bug-program.c:60)
==1103==    by 0x1092E0: main (bug-program.c:69)
==1103== 
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==1103== Invalid read of size 8
==1103==    at 0x10933F: free_key_values (bug-program.c:42)
==1103==    by 0x10933F: main (bug-program.c:73)
==1103==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==1103==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1103==    by 0x10933E: free_key_values (bug-program.c:43)
==1103==    by 0x10933E: main (bug-program.c:73)
==1103==  Block was alloc'd at
==1103==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1103==    by 0x1092D3: add_key_value (bug-program.c:21)
==1103==    by 0x1092D3: make_key_values (bug-program.c:60)
==1103==    by 0x1092D3: main (bug-program.c:69)
==1103== 
==1103== 
==1103== HEAP SUMMARY:
==1103==     in use at exit: 207 bytes in 23 blocks
==1103==   total heap usage: 47 allocs, 24 frees, 1,415 bytes allocated
==1103== 
==1103== LEAK SUMMARY:
==1103==    definitely lost: 207 bytes in 23 blocks
==1103==    indirectly lost: 0 bytes in 0 blocks
==1103==      possibly lost: 0 bytes in 0 blocks
==1103==    still reachable: 0 bytes in 0 blocks
==1103==         suppressed: 0 bytes in 0 blocks
==1103== Rerun with --leak-check=full to see details of leaked memory
==1103== 
==1103== For counts of detected and suppressed errors, rerun with: -v
==1103== ERROR SUMMARY: 117 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./valgrind [K[K[K[K[K[K[K[K[K[K[K./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs M[Kug-p[K[K[K[Kbug-rp[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc([1m[36msizeof[0m[39;49m(k) + [1m[36msizeof[0m[39;49m([32mchar[39;49m));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m1[0m[39;49m[27m[H
[?12l[?25h[?12;25h[35d[?25lBeginning of buffer[H
[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[?25lsizeof[1P[34;6H[7m**[0m[39;49m[27m[25;26H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@t[?12l[?25h[?12;25h[?25l[1@r[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@e[?12l[?25h[?12;25h[?25l[1@n[?12l[?25h[?12;25h[?25l[1@([?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C[35;1H[?25lAuto-saving...[25;44H[?12l[?25h[?12;25h[35;15H[?25ldone[25;44H[?12l[?25h[?12;25h[35;1H[K[25;44H[?25l;[K[?12l[?25h[?12;25h[?25lcha);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25lsizeo);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[C[?25l;[K[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[25;29H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[25;29H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[25;29H[?12l[?25h[?12;25h[35;1H[K[25;29H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kadd_key_value[m[Kâ€™:
[01m[Kbug-program.c:24:29:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K)[m[Kâ€™ before â€˜[01m[K;[m[Kâ€™ token
   char *s = malloc(strlen(k)[01;31m[K;[m[K
                             [01;31m[K^[m[K
                             [32m[K)[m[K
[01m[Kbug-program.c:35:1:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K,[m[Kâ€™ or â€˜[01m[K;[m[Kâ€™ before â€˜[01m[K}[m[Kâ€™ token
 [01;31m[K}[m[K
 [01;31m[K^[m[K
[01m[Kbug-program.c:39:1:[m[K [01;31m[Kerror: [m[Kinvalid storage class for function â€˜[01m[Kfree_key_values[m[Kâ€™
 [01;31m[Kfree_key_values[m[K(struct KeyValue *keyValues)
 [01;31m[K^~~~~~~~~~~~~~~[m[K
[01m[Kbug-program.c:51:1:[m[K [01;31m[Kerror: [m[Kinvalid storage class for function â€˜[01m[Kmake_key_values[m[Kâ€™
 [01;31m[Kmake_key_values[m[K(void) {
 [01;31m[K^~~~~~~~~~~~~~~[m[K
[01m[Kbug-program.c:68:5:[m[K [01;35m[Kwarning: [m[Kâ€˜[01m[Kmain[m[Kâ€™ is normally a non-static function [[01;35m[K-Wmain[m[K]
 int [01;35m[Kmain[m[K() {
     [01;35m[K^~~~[m[K
[01m[Kbug-program.c:75:1:[m[K [01;31m[Kerror: [m[Kexpected declaration or statement at end of input
 [01;31m[K}[m[K
 [01;31m[K^[m[K
[01m[Kbug-program.c:24:9:[m[K [01;35m[Kwarning: [m[Kunused variable â€˜[01m[Ks[m[Kâ€™ [[01;35m[K-Wunused-variable[m[K]
   char *[01;35m[Ks[m[K = malloc(strlen(k);
         [01;35m[K^[m[K
[01m[Kbug-program.c:21:20:[m[K [01;35m[Kwarning: [m[Kunused variable â€˜[01m[Kkv[m[Kâ€™ [[01;35m[K-Wunused-variable[m[K]
   struct KeyValue *[01;35m[Kkv[m[K = malloc(sizeof(struct KeyValue *));
                    [01;35m[K^~[m[K
[01m[Kbug-program.c:75:1:[m[K [01;35m[Kwarning: [m[Kno return statement in function returning non-void [[01;35m[K-Wreturn-type[m[K]
 [01;35m[K}[m[K
 [01;35m[K^[m[K
At top level:
[01m[Kbug-program.c:68:5:[m[K [01;35m[Kwarning: [m[Kâ€˜[01m[Kmain[m[Kâ€™ defined but not used [[01;35m[K-Wunused-function[m[K]
 int [01;35m[Kmain[m[K() {
     [01;35m[K^~~~[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ma[K[Kmakeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m21[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[25;19H[?25l[46m([39;49mstrlen(k));[34;6H[7m**[0m[39;49m[27m[25;30H[?12l[?25h[?12;25h[25;19H[?25l([25;30H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[25;30H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[25;30H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[25;30H[?12l[?25h[?12;25h[35;1H[K[25;30H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./[K[Kmake memcheck
valgrind ./bug-program
==1434== Memcheck, a memory error detector
==1434== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1434== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==1434== Command: ./bug-program
==1434== 
==1434== Invalid write of size 1
==1434==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==1434==    by 0x10930E: add_key_value (bug-program.c:30)
==1434==    by 0x10930E: make_key_values (bug-program.c:60)
==1434==    by 0x10930E: main (bug-program.c:69)
==1434==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092F6: add_key_value (bug-program.c:24)
==1434==    by 0x1092F6: make_key_values (bug-program.c:60)
==1434==    by 0x1092F6: main (bug-program.c:69)
==1434== 
==1434== Invalid write of size 4
==1434==    at 0x109312: add_key_value (bug-program.c:33)
==1434==    by 0x109312: make_key_values (bug-program.c:60)
==1434==    by 0x109312: main (bug-program.c:69)
==1434==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092D3: add_key_value (bug-program.c:21)
==1434==    by 0x1092D3: make_key_values (bug-program.c:60)
==1434==    by 0x1092D3: main (bug-program.c:69)
==1434== 
==1434== Invalid write of size 8
==1434==    at 0x109315: add_key_value (bug-program.c:33)
==1434==    by 0x109315: make_key_values (bug-program.c:60)
==1434==    by 0x109315: main (bug-program.c:69)
==1434==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092D3: add_key_value (bug-program.c:21)
==1434==    by 0x1092D3: make_key_values (bug-program.c:60)
==1434==    by 0x1092D3: main (bug-program.c:69)
==1434== 
==1434== Invalid read of size 4
==1434==    at 0x109330: main (bug-program.c:71)
==1434==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092D3: add_key_value (bug-program.c:21)
==1434==    by 0x1092D3: make_key_values (bug-program.c:60)
==1434==    by 0x1092D3: main (bug-program.c:69)
==1434== 
==1434== Invalid read of size 1
==1434==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==1434==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==1434==    by 0x48D3605: printf (printf.c:33)
==1434==    by 0x109343: main (bug-program.c:71)
==1434==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092F6: add_key_value (bug-program.c:24)
==1434==    by 0x1092F6: make_key_values (bug-program.c:60)
==1434==    by 0x1092F6: main (bug-program.c:69)
==1434== 
outgrabe: 22
==1434== Invalid read of size 8
==1434==    at 0x109344: main (bug-program.c:70)
==1434==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092D3: add_key_value (bug-program.c:21)
==1434==    by 0x1092D3: make_key_values (bug-program.c:60)
==1434==    by 0x1092D3: main (bug-program.c:69)
==1434== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==1434== Invalid read of size 8
==1434==    at 0x109355: free_key_values (bug-program.c:42)
==1434==    by 0x109355: main (bug-program.c:73)
==1434==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==1434==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1434==    by 0x109354: free_key_values (bug-program.c:43)
==1434==    by 0x109354: main (bug-program.c:73)
==1434==  Block was alloc'd at
==1434==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1434==    by 0x1092D3: add_key_value (bug-program.c:21)
==1434==    by 0x1092D3: make_key_values (bug-program.c:60)
==1434==    by 0x1092D3: main (bug-program.c:69)
==1434== 
==1434== 
==1434== HEAP SUMMARY:
==1434==     in use at exit: 100 bytes in 23 blocks
==1434==   total heap usage: 47 allocs, 24 frees, 1,308 bytes allocated
==1434== 
==1434== LEAK SUMMARY:
==1434==    definitely lost: 100 bytes in 23 blocks
==1434==    indirectly lost: 0 bytes in 0 blocks
==1434==      possibly lost: 0 bytes in 0 blocks
==1434==    still reachable: 0 bytes in 0 blocks
==1434==         suppressed: 0 bytes in 0 blocks
==1434== Rerun with --leak-check=full to see details of leaked memory
==1434== 
==1434== For counts of detected and suppressed errors, rerun with: -v
==1434== ERROR SUMMARY: 161 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-r[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K[34;30H[7m45% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[2d[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[5;3H[1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[10;3H};[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K[12;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K[13;3H  p = add_key_value(p, keys[i], i);
[2@[15;3H[1m[36mreturn[0m[39;49m p;
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K[22;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K[23;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[24;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[K[25;3H}[K
free_key_values(keyValues);[27;3H[1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
  kv->key = s; kv->value = v; kv->succ = keyValues;
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
[C[31m//go thru chain of keyValues                                                                      [39;49m
	[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[13;5Hfree(p); [31m//free KeyValue struct                                                                 [39;49m

}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[31m *  Jabberwocky with value being the index of the word.                [39;49m[19;3H[31m/[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[22;3H[1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K[23;3H  [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K[24;5H[32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[25;3H  [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[26;3H  [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[27;3H};[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[29;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[30;5Hp = add_key_value(p, keys[i], i);[31;3H}
[1m[36mreturn[0m[39;49m p;
}[34;30H[7m44% L48[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;32r[2;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K[33d[K[34;30H[7m20% L31[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[14L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A[34;30H[7mTop L14[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[C[C[C[1;33r[30;1H[1L[1;35r[30;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   21% L45[0m[39;49m[27m[30;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[?25lV[?12l[?25h[?12;25h[?25la[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h	[?25l[46m([39;49mkeyValues)[?12l[?25h[?12;25h	[?25l(keyValues);[?12l[?25h[?12;25h




[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[30;19H[?12l[?25h[?12;25h




[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[30;19H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[30;19H[?12l[?25h[?12;25h




[K[30;19H




[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bugp[K-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs m[Kbug-rp[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
  free(keyValues);[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C		[C[C[K[34;6H[?25l[7m**[0m[39;49m[27m[30;18H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[K[K[K[K[K[C[C[1;33r[30;1H[1M[1;35r[33;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;36H[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[29;4H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[29;4H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[35;1H[K[29;4H[35;1H[?25l(No changes need to be saved)[29;4H[?12l[?25h[?12;25h[35;1H[K[29;4H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ valgrind --v[K[K[K-v --leak-check=yes ./bug[Kg-pro gram
==1955== Memcheck, a memory error detector
==1955== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==1955== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==1955== Command: ./bug-program
==1955== 
--1955-- Valgrind options:
--1955--    -v
--1955--    --leak-check=yes
--1955-- Contents of /proc/version:
--1955--   Linux version 4.19.0-5-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-7)) #1 SMP Debian 4.19.37-5 (2019-06-19)
--1955-- 
--1955-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--1955-- Page sizes: currently 4096, max supported 4096
--1955-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--1955-- Reading syms from /import/linux/home1/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program
--1955-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--1955--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--1955--   .. build-id is valid
--1955-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--1955--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--1955--   .. build-id is valid
--1955--    object doesn't have a dynamic symbol table
--1955-- Scheduler: using generic scheduler lock implementation.
--1955-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==1955== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-1955-by-thur1-on-???
==1955== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-1955-by-thur1-on-???
==1955== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-1955-by-thur1-on-???
==1955== 
==1955== TO CONTROL THIS PROCESS USING vgdb (which you probably
==1955== don't want to do, unless you know exactly what you're doing,
==1955== or are doing some strange experiment):
==1955==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=1955 ...command...
==1955== 
==1955== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==1955==   /path/to/gdb ./bug-program
==1955== and then give GDB the following command
==1955==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=1955
==1955== --pid is optional if only one valgrind process is running
==1955== 
--1955-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--1955-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)
--1955-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--1955--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--1955--   .. build-id is valid
--1955-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--1955--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--1955--   .. build-id is valid
==1955== WARNING: new redirection conflicts with existing -- ignoring it
--1955--     old: 0x0401e2f0 (strlen              ) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--1955--     new: 0x0401e2f0 (strlen              ) R-> (2007.0) 0x04838d80 strlen
--1955-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--1955-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--1955-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--1955--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--1955--   .. build-id is valid
--1955-- REDIR: 0x4903f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4904250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4902b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4905890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x491e230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x491dcd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49040e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4902be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4904040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x491dca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49030a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4902c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49042a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4902c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49043e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x491f4d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49031c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4902ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x490a280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49042f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x491ddb0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4903460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4904220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49041f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49058c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x4904340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--1955-- REDIR: 0x49d6fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--1955-- REDIR: 0x48ff350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
--1955-- REDIR: 0x4918100 (libc.so.6:__strcpy_sse2_unaligned) redirected to 0x4838db0 (strcpy)
==1955== Invalid write of size 1
==1955==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==1955==    by 0x109312: add_key_value (bug-program.c:30)
==1955==    by 0x109312: make_key_values (bug-program.c:61)
==1955==    by 0x109312: main (bug-program.c:70)
==1955==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092F6: add_key_value (bug-program.c:24)
==1955==    by 0x1092F6: make_key_values (bug-program.c:61)
==1955==    by 0x1092F6: main (bug-program.c:70)
==1955== 
==1955== Invalid write of size 4
==1955==    at 0x109316: add_key_value (bug-program.c:33)
==1955==    by 0x109316: make_key_values (bug-program.c:61)
==1955==    by 0x109316: main (bug-program.c:70)
==1955==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== Invalid write of size 8
==1955==    at 0x109319: add_key_value (bug-program.c:33)
==1955==    by 0x109319: make_key_values (bug-program.c:61)
==1955==    by 0x109319: main (bug-program.c:70)
==1955==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== Invalid read of size 4
==1955==    at 0x109334: main (bug-program.c:72)
==1955==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
--1955-- REDIR: 0x49d6db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--1955-- REDIR: 0x49d7170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
==1955== Invalid read of size 1
==1955==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==1955==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==1955==    by 0x48D3605: printf (printf.c:33)
==1955==    by 0x109347: main (bug-program.c:72)
==1955==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092F6: add_key_value (bug-program.c:24)
==1955==    by 0x1092F6: make_key_values (bug-program.c:61)
==1955==    by 0x1092F6: main (bug-program.c:70)
==1955== 
--1955-- REDIR: 0x49d7690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
outgrabe: 22
==1955== Invalid read of size 8
==1955==    at 0x109348: main (bug-program.c:71)
==1955==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
--1955-- REDIR: 0x48ff9a0 (libc.so.6:free) redirected to 0x4836940 (free)
==1955== Invalid read of size 8
==1955==    at 0x10935C: free_key_values (bug-program.c:42)
==1955==    by 0x10935C: main (bug-program.c:74)
==1955==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10935B: free_key_values (bug-program.c:43)
==1955==    by 0x10935B: main (bug-program.c:74)
==1955==  Block was alloc'd at
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== Invalid free() / delete / delete[] / realloc()
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10936C: free_key_values (bug-program.c:45)
==1955==    by 0x10936C: main (bug-program.c:74)
==1955==  Address 0x4a3fe00 is 0 bytes inside a block of size 8 free'd
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10935B: free_key_values (bug-program.c:43)
==1955==    by 0x10935B: main (bug-program.c:74)
==1955==  Block was alloc'd at
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== HEAP SUMMARY:
==1955==     in use at exit: 100 bytes in 23 blocks
==1955==   total heap usage: 47 allocs, 25 frees, 1,308 bytes allocated
==1955== 
==1955== Searching for pointers to 23 not-freed blocks
==1955== Checked 67,880 bytes
==1955== 
==1955== 100 bytes in 23 blocks are definitely lost in loss record 1 of 1
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092F6: add_key_value (bug-program.c:24)
==1955==    by 0x1092F6: make_key_values (bug-program.c:61)
==1955==    by 0x1092F6: main (bug-program.c:70)
==1955== 
==1955== LEAK SUMMARY:
==1955==    definitely lost: 100 bytes in 23 blocks
==1955==    indirectly lost: 0 bytes in 0 blocks
==1955==      possibly lost: 0 bytes in 0 blocks
==1955==    still reachable: 0 bytes in 0 blocks
==1955==         suppressed: 0 bytes in 0 blocks
==1955== 
==1955== ERROR SUMMARY: 163 errors from 9 contexts (suppressed: 0 from 0)
==1955== 
==1955== 1 errors in context 1 of 9:
==1955== Invalid free() / delete / delete[] / realloc()
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10936C: free_key_values (bug-program.c:45)
==1955==    by 0x10936C: main (bug-program.c:74)
==1955==  Address 0x4a3fe00 is 0 bytes inside a block of size 8 free'd
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10935B: free_key_values (bug-program.c:43)
==1955==    by 0x10935B: main (bug-program.c:74)
==1955==  Block was alloc'd at
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 2 of 9:
==1955== Invalid read of size 8
==1955==    at 0x10935C: free_key_values (bug-program.c:42)
==1955==    by 0x10935C: main (bug-program.c:74)
==1955==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==1955==    at 0x48369AB: free (vg_replace_malloc.c:530)
==1955==    by 0x10935B: free_key_values (bug-program.c:43)
==1955==    by 0x10935B: main (bug-program.c:74)
==1955==  Block was alloc'd at
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 3 of 9:
==1955== Invalid read of size 8
==1955==    at 0x109348: main (bug-program.c:71)
==1955==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 4 of 9:
==1955== Invalid read of size 1
==1955==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==1955==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==1955==    by 0x48D3605: printf (printf.c:33)
==1955==    by 0x109347: main (bug-program.c:72)
==1955==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092F6: add_key_value (bug-program.c:24)
==1955==    by 0x1092F6: make_key_values (bug-program.c:61)
==1955==    by 0x1092F6: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 5 of 9:
==1955== Invalid read of size 4
==1955==    at 0x109334: main (bug-program.c:72)
==1955==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 6 of 9:
==1955== Invalid write of size 8
==1955==    at 0x109319: add_key_value (bug-program.c:33)
==1955==    by 0x109319: make_key_values (bug-program.c:61)
==1955==    by 0x109319: main (bug-program.c:70)
==1955==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 7 of 9:
==1955== Invalid write of size 4
==1955==    at 0x109316: add_key_value (bug-program.c:33)
==1955==    by 0x109316: make_key_values (bug-program.c:61)
==1955==    by 0x109316: main (bug-program.c:70)
==1955==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092D3: add_key_value (bug-program.c:21)
==1955==    by 0x1092D3: make_key_values (bug-program.c:61)
==1955==    by 0x1092D3: main (bug-program.c:70)
==1955== 
==1955== 
==1955== 23 errors in context 8 of 9:
==1955== Invalid write of size 1
==1955==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==1955==    by 0x109312: add_key_value (bug-program.c:30)
==1955==    by 0x109312: make_key_values (bug-program.c:61)
==1955==    by 0x109312: main (bug-program.c:70)
==1955==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==1955==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==1955==    by 0x1092F6: add_key_value (bug-program.c:24)
==1955==    by 0x1092F6: make_key_values (bug-program.c:61)
==1955==    by 0x1092F6: main (bug-program.c:70)
==1955== 
==1955== ERROR SUMMARY: 163 errors from 9 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs m[Kbu[Kug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[C[C[34;35H[?25l[7m30[0m[39;49m[27m[15;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;17H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;17H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;17H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;17H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;17H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;17H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[6;17H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[5;17H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[3;17H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[5;17H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[6;17H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;17H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;17H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;17H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;17H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[15;17H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;17H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;17H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[1;33r[19;1H[1L[1;35r[19;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   21% L34[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25lv[?12l[?25h[?12;25h[?25l[46m([39;49mkv)[?12l[?25h[?12;25h[?25l(kv);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;12H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;12H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[35;1H[K[19;11H[K[34;6H[?25l[7m**[0m[39;49m[27m[19;11H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[C[C[1;33r[19;1H[1M[1;35r[33;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;36H[7m3[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[1;33r[19;1H[1L[1;35r[19;1H[K[34;36H[?25l[7m4[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25lv[?12l[?25h[?12;25h[?25l[46m([39;49mkv)[?12l[?25h[?12;25h[?25l(kv);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;12H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;12H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[35;1H[K[19;12H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bu-g[K[Kgpr[K[K-pg[Kror[Kgram
(null): 619831312
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  free(kv);[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[K[34;6H[?25l[7m**[0m[39;49m[27m[19;11H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[C[C[1;33r[19;1H[1M[1;35r[33;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;36H[7m3[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;46H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;44H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;31H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;52H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;36H[?12l[?25h[?12;25h[34d[?25l[7m2[0m[39;49m[27m[27;52H[?12l[?25h[?12;25h[C[C[C		[C[C[C[C[C[C		[1;33r[28;1H[1L[1;35r[28;1H[K[34;36H[?25l[7m3[0m[39;49m[27m[28;5H[?12l[?25h[?12;25h[?25l[32ms[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mt[39;49m[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32mc[39;49m[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h[29;5H[?25lfree[28;11H[?12l[?25h[?12;25h[C[?25l[32mK[39;49m[29;5H[1m[34mfree[0m[39;49m[28;13H[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[C[?25l*[?12l[?25h[?12;25h[?25l[1m[34mt[0m[39;49m[29;5Hfree[28;23H[?12l[?25h[?12;25h[?25l[1m[34me[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mm[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mp[0m[39;49m[?12l[?25h[?12;25h[C[?25l[33mtemp[39;49m =[?12l[?25h[?12;25h[C[?25lp[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[1;32r[29;1H[1L[1;35r[29;1H[K



[K[34;36H[?25l[7m4[0m[39;49m[27m[29;5H[?12l[?25h[?12;25h[?25l[32mt[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32mm[39;49m[?12l[?25h[?12;25h[?25l[32mp[39;49m[?12l[?25h[?12;25h[?25ltemp-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[30;5H[?25lfree[29;11H[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[K[K[?25l[32mtemp[39;49m[K
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[K[K[K[29;5H
[?25lfree[29;5H[?12l[?25h[?12;25h[?25l[32mt[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[K[K[29;5H[30;5H[?25lfree[A[?12l[?25h[?12;25h[29;5H[?25l[32mt[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32mm[39;49m[?12l[?25h[?12;25h[?25l[32mp[39;49m[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[35d[?25lAuto-saving...[30;1H[?12l[?25h[?12;25h[35;15H[?25ldone[30;1H[?12l[?25h[?12;25h[35d[K[30;2H[34;36H[?25l[7m4[0m[39;49m[27m[29;2H[?12l[?25h[?12;25h[C[C[C[C[C		[K[K[K[K[29;5H[1;32r[29;1H[1M[1;35r[32;1H[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[34;36H[7m3[0m[39;49m[27m[28;31H[?12l[?25h[?12;25h[K[29;5H[?25lfree[28;29H[?12l[?25h[?12;25h[?25l[1m[34mtemp[0m[39;49m[K[C[?12l[?25h[?12;25h[K[K[K[K[29;5H[?25l[1m[34mfree[0m[39;49m[28;21H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[C[?25l[32mstruc[39;49m[K[?12l[?25h[?12;25h[K[K[K[K[K[28;5H[1;33r[28;1H[1M[1;35r[33;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;36H[7m2[0m[39;49m[27m[27;65H[?12l[?25h[?12;25h[28;5H[?25lfree[27;65H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[27;65H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[27;65H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[27;65H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m1[0m[39;49m[27m[26;31H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[24;44H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;46H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;65H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;62H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;65H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;31H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;48H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[6;59H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[5;45H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[3;64H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[2;25H[?12l[?25h[?12;25h[1;33r[2;1H[16L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K[34;30H[7mTop L16[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;63H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;62H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;56H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;46H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;43H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;46H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;56H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;62H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;63H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;25H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;64H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;45H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;59H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;48H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;31H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;65H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;62H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;65H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;30H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;52H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;46H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;44H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;31H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;65H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;36H[?12l[?25h[?12;25h[34d[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;65H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[33;56H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K[34;30H[7m45% L49[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;24H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;56H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;57H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;48H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;47H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;5H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;29H[?12l[?25h[?12;25h[35;1H[?25l(No changes need to be saved)[27;29H[?12l[?25h[?12;25h[35;1H[K[27;29H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-po[Krogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make me[Kemcheck
valgrind ./bug-program
==2827== Memcheck, a memory error detector
==2827== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==2827== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==2827== Command: ./bug-program
==2827== 
==2827== Invalid write of size 1
==2827==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==2827==    by 0x10930E: add_key_value (bug-program.c:30)
==2827==    by 0x10930E: make_key_values (bug-program.c:60)
==2827==    by 0x10930E: main (bug-program.c:69)
==2827==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092F6: add_key_value (bug-program.c:24)
==2827==    by 0x1092F6: make_key_values (bug-program.c:60)
==2827==    by 0x1092F6: main (bug-program.c:69)
==2827== 
==2827== Invalid write of size 4
==2827==    at 0x109312: add_key_value (bug-program.c:33)
==2827==    by 0x109312: make_key_values (bug-program.c:60)
==2827==    by 0x109312: main (bug-program.c:69)
==2827==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092D3: add_key_value (bug-program.c:21)
==2827==    by 0x1092D3: make_key_values (bug-program.c:60)
==2827==    by 0x1092D3: main (bug-program.c:69)
==2827== 
==2827== Invalid write of size 8
==2827==    at 0x109315: add_key_value (bug-program.c:33)
==2827==    by 0x109315: make_key_values (bug-program.c:60)
==2827==    by 0x109315: main (bug-program.c:69)
==2827==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092D3: add_key_value (bug-program.c:21)
==2827==    by 0x1092D3: make_key_values (bug-program.c:60)
==2827==    by 0x1092D3: main (bug-program.c:69)
==2827== 
==2827== Invalid read of size 4
==2827==    at 0x109330: main (bug-program.c:71)
==2827==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092D3: add_key_value (bug-program.c:21)
==2827==    by 0x1092D3: make_key_values (bug-program.c:60)
==2827==    by 0x1092D3: main (bug-program.c:69)
==2827== 
==2827== Invalid read of size 1
==2827==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==2827==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==2827==    by 0x48D3605: printf (printf.c:33)
==2827==    by 0x109343: main (bug-program.c:71)
==2827==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092F6: add_key_value (bug-program.c:24)
==2827==    by 0x1092F6: make_key_values (bug-program.c:60)
==2827==    by 0x1092F6: main (bug-program.c:69)
==2827== 
outgrabe: 22
==2827== Invalid read of size 8
==2827==    at 0x109344: main (bug-program.c:70)
==2827==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092D3: add_key_value (bug-program.c:21)
==2827==    by 0x1092D3: make_key_values (bug-program.c:60)
==2827==    by 0x1092D3: main (bug-program.c:69)
==2827== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==2827== Invalid read of size 8
==2827==    at 0x109355: free_key_values (bug-program.c:42)
==2827==    by 0x109355: main (bug-program.c:73)
==2827==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==2827==    at 0x48369AB: free (vg_replace_malloc.c:530)
==2827==    by 0x109354: free_key_values (bug-program.c:43)
==2827==    by 0x109354: main (bug-program.c:73)
==2827==  Block was alloc'd at
==2827==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==2827==    by 0x1092D3: add_key_value (bug-program.c:21)
==2827==    by 0x1092D3: make_key_values (bug-program.c:60)
==2827==    by 0x1092D3: main (bug-program.c:69)
==2827== 
==2827== 
==2827== HEAP SUMMARY:
==2827==     in use at exit: 100 bytes in 23 blocks
==2827==   total heap usage: 47 allocs, 24 frees, 1,308 bytes allocated
==2827== 
==2827== LEAK SUMMARY:
==2827==    definitely lost: 100 bytes in 23 blocks
==2827==    indirectly lost: 0 bytes in 0 blocks
==2827==      possibly lost: 0 bytes in 0 blocks
==2827==    still reachable: 0 bytes in 0 blocks
==2827==         suppressed: 0 bytes in 0 blocks
==2827== Rerun with --leak-check=full to see details of leaked memory
==2827== 
==2827== For counts of detected and suppressed errors, rerun with: -v
==2827== ERROR SUMMARY: 161 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C[34;36H[?25l[7m2[0m[39;49m[27m[27;23H[?12l[?25h[?12;25h		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C			[C[C[C[C[C[C		[C[C[C[C[C[C		[1;33r[28;1H[1L[1;35r[28;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   21% L43[0m[39;49m[27m[28;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[?25l[32mp[39;49m
[32mp[39;49m[A[?12l[?25h[?12;25h[?25lp-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[29;5H[?25lfree(p[28;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;13H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;13H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[8;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[6;13H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[5;13H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[3;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[2;13H[?12l[?25h[?12;25h[1;33r[2;1H[16L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K[34;30H[7mTop L16[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;13H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;13H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;13H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;13H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;13H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;13H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;13H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;13H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[1;33r[2;1H[18M[1;35r[16;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p->[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K[34;30H[7m25% L35[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[23;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;13H[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h	[?25l[46m([39;49mp->key)[?12l[?25h[?12;25h	[?25l(p->key);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[26;18H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[26;18H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[26;18H[?12l[?25h[?12;25h[35;1H[K[26;18H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:43:11:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kp->key[m[K);
          [01;35m[K~^~~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K[34;30H[7m45% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[13;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[C[C[C[?25l[1P[34;6H[7m**[0m[39;49m[27m[12;5H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[C[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25lp->key);[K[12;5H[?12l[?25h[?12;25h[?25l->key);[K[12;5H[?12l[?25h[?12;25h[?25l>key);[K[?12l[?25h[?12;25h[?25lkey);[K[?12l[?25h[?12;25h[?25ley);[K[?12l[?25h[?12;25h[?25ly);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l;[K[?12l[?25h[?12;25h[K[12;5H[?25l[32ms[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mt[39;49m[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32m8[39;49m[?12l[?25h[?12;25h[K[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32mc[39;49m[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h[C[?25l[32mK[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[K[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[11;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[10;20H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[9;2H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[8;20H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[7;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[6;20H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[3;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[2;20H[?12l[?25h[?12;25h[?25l[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)
{
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[C[C[32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K[12;3H[1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[13;5Hfprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K[14;3H  exit(1);
[2@[16;3Hstrcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[K
  [31m//initialize fields of *kv.                          [39;49m
  kv->key = s; kv->value = v; kv->succ = keyValues;
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
[C[31m//go thru chain of keyValues                                                                      [39;49m
[C[C[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[29;3H  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m[K[30;5H[1m[34mfree[0m[39;49m(p); [31m//free KeyValue struct                                                                 [39;49m

}[K
[K[34;30H[7m21% L32[0m[39;49m[27m[18;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[16;20H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[15;4H[?12l[?25h[?12;25h[35;15H[?25ldone[15;4H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m8[0m[39;49m[27m[14;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[12;20H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[10;20H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[9;20H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[7;20H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[6;20H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[5;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[4;20H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[3;20H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[1;33r[2;1H[15L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A[34;30H[7mTop L15[0m[39;49m[27m[16;20H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;20H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;20H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;20H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;20H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;20H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;18H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;20H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;20H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;20H[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[3;19H[?12l[?25h[?12;25h[34;35H[?25l[7m1[0m[39;49m[27m[2;19H[?12l[?25h[?12;25h[35;1H[?25lBeginning of buffer[2;19H[?12l[?25h[?12;25h[35;1H[K[34;35H[?25l[7m2[0m[39;49m[27m[3;19H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;20H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;20H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;20H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;18H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;20H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;20H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;20H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;20H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;20H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;20H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;20H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;20H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;20H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;20H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;20H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;20H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;20H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m[K
    [1m[34mfree[0m[39;49m(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;20H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;20H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;20H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;20H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;20H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;20H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;20H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[33;20H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K[34;30H[7m45% L49[0m[39;49m[27m[18;20H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;20H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;20H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;20H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;4H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;20H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;20H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[13;20H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[12;20H[?12l[?25h[?12;25h[C[?25l[32mt[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32mm[39;49m[?12l[?25h[?12;25h[?25l[32mp[39;49m[?12l[?25h[?12;25h[C[?25l[33mtemp[39;49m =[?12l[?25h[?12;25h[C[?25l[[?12l[?25h[?12;25h[K[C[?25lp[13;5Hfree[12;29H[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[1;33r[13;1H[1L[1;35r[13;1H[K[34;36H[?25l[7m4[0m[39;49m[27m[13;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[?25l[32mt[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32mm[39;49m[?12l[?25h[?12;25h[?25l[32mp[39;49m[?12l[?25h[?12;25h[?25ltemp-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[14;5H[?25lfree[A	[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[13;17H[?12l[?25h[?12;25h[35;15H[?25ldone[13;17H[?12l[?25h[?12;25h[35;1H[K[13;17H[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h	[?25l[46m([39;49mtemp->key)[34;31H[7m4[0m[39;49m[27m[13;20H[?12l[?25h[?12;25h	[?25l(temp->key);[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;21H[?12l[?25h[?12;25h[?25l); [31m//free KeyValue struct [39;49m[14;10H[?12l[?25h[?12;25h[?25lt); [31m//free KeyValue struct[39;49m[14;11H[?12l[?25h[?12;25h[?25le); [31m//free KeyValue struct[39;49m[14;12H[?12l[?25h[?12;25h[?25lm); [31m//free KeyValue struct[39;49m[14;13H[?12l[?25h[?12;25h[?25lp); [31m//free KeyValue struct[39;49m[14;14H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[14;14H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[14;14H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[14;14H[?12l[?25h[?12;25h[35;1H[K[14;14H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:43:28:[m[K [01;31m[Kerror: [m[Kinvalid initializer
     struct KeyValue temp = [01;31m[Kp[m[K;
                            [01;31m[K^[m[K
[01m[Kbug-program.c:44:14:[m[K [01;31m[Kerror: [m[Kinvalid type argument of â€˜[01m[K->[m[Kâ€™ (have â€˜[01m[Kstruct KeyValue[m[Kâ€™)
     free(temp[01;31m[K->[m[Kkey);
              [01;31m[K^~[m[K
[01m[Kbug-program.c:45:10:[m[K [01;31m[Kerror: [m[Kincompatible type for argument 1 of â€˜[01m[Kfree[m[Kâ€™
     free([01;31m[Ktemp[m[K); //free KeyValue struct
          [01;31m[K^~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kstruct KeyValue[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lBeginning of buffer[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m [33mtemp[39;49m = p;[K
    free(temp->key);[K
    free(temp); [31m//free KeyValue struct                                                              [39;49m
[A
  }[K
}[K
[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
[1m[36mreturn[0m[39;49m p;[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C[?25l); [31m//free KeyValue struct [39;49m[34;6H[7m**[0m[39;49m[27m[14;13H[?12l[?25h[?12;25h[?25l); [31m//free KeyValue struct [39;49m[14;12H[?12l[?25h[?12;25h[?25l); [31m//free KeyValue struct [39;49m[14;11H[?12l[?25h[?12;25h[?25l); [31m//free KeyValue struct [39;49m[14;10H[?12l[?25h[?12;25h[?25l[); [31m//free KeyValue struct[39;49m[14;11H[?12l[?25h[?12;25h[?25l); [31m//free KeyValue struct [39;49m[14;10H[?12l[?25h[?12;25h[?25lp); [31m//free KeyValue struct[39;49m[14;11H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[13;11H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[34;31H[7m5[0m[39;49m[27m[13;5H[?12l[?25h[?12;25h[C[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25lp->key);[K[13;5H[?12l[?25h[?12;25h[?25l->key);[K[13;5H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[13;5H[?12l[?25h[?12;25h[35;15H[?25ldone[13;5H[?12l[?25h[?12;25h[35;1H[K[13;5H[?25l>key);[K[?12l[?25h[?12;25h[?25lkey);[K[?12l[?25h[?12;25h[?25ley);[K[?12l[?25h[?12;25h[?25ly);[K[?12l[?25h[?12;25h[?25l);[K[?12l[?25h[?12;25h[?25l;[K[?12l[?25h[?12;25h[K[13;5H[1;33r[13;1H[1M[1;35r[33;1H[?25l}[K[34;36H[7m3[0m[39;49m[27m[12;30H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[12;30H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[12;30H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;30H[?12l[?25h[?12;25h[35;1H[K[12;29H[K[34;6H[?25l[7m**[0m[39;49m[27m[12;29H[?12l[?25h[?12;25h[K[C[?25l[32mtemp[39;49m[K[13;5H[1m[34mfree[0m[39;49m[12;26H[?12l[?25h[?12;25h[K[K[K[K[C[K[K[K[K[K[K[K[C[?25l[32mstruc[39;49m[K[?12l[?25h[?12;25h[K[K[K[K[K[12;5H[1;33r[12;1H[1M[1;35r[33;1H[K[34;36H[?25l[7m2[0m[39;49m[27m[11;65H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[11;65H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[11;65H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[11;65H[?12l[?25h[?12;25h[12;5H[?25lfree[11;65H[?12l[?25h[?12;25h[1;33r[12;1H[1L[1;35r[35;1H[K[12d[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   45% L43[0m[39;49m[27m[12;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[?25l[32mp[39;49m
[32mp[39;49m[A[?12l[?25h[?12;25h[?25lp-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[13;5Hfree(p[12;14H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h	[?25l[46m([39;49mp->key)[?12l[?25h[?12;25h	[?25l(p->key);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[12;18H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[12;18H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;18H[?12l[?25h[?12;25h[35;1H[K[12;17H[?25lkey);[K[34;6H[7m**[0m[39;49m[27m[12;12H[?12l[?25h[?12;25h[?25lkey);[K[?12l[?25h[?12;25h[?25l.key);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[12;12H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[12;12H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;12H[?12l[?25h[?12;25h[35;1H[K[12;12H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:43:11:[m[K [01;31m[Kerror: [m[Kâ€˜[01m[Kp[m[Kâ€™ is a pointer; did you mean to use â€˜[01m[K->[m[Kâ€™?
     free(p[01;31m[K.[m[Kkey);
           [01;31m[K^[m[K
           [32m[K->[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p.key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[?25lkey);[K[34;6H[7m**[0m[39;49m[27m[28;11H[?12l[?25h[?12;25h[?25l-key);[?12l[?25h[?12;25h[?25l>key);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[28;13H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[28;13H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[28;13H[?12l[?25h[?12;25h[35;1H[K[28;13H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ 
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ak[K[Kmake
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:43:11:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kp->key[m[K);
          [01;35m[K~^~~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ em[K[Km[Ke[Kmake memcheck
valgrind ./bug-program
==3717== Memcheck, a memory error detector
==3717== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==3717== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==3717== Command: ./bug-program
==3717== 
==3717== Invalid write of size 1
==3717==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==3717==    by 0x10930E: add_key_value (bug-program.c:30)
==3717==    by 0x10930E: make_key_values (bug-program.c:61)
==3717==    by 0x10930E: main (bug-program.c:70)
==3717==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092F6: add_key_value (bug-program.c:24)
==3717==    by 0x1092F6: make_key_values (bug-program.c:61)
==3717==    by 0x1092F6: main (bug-program.c:70)
==3717== 
==3717== Invalid write of size 4
==3717==    at 0x109312: add_key_value (bug-program.c:33)
==3717==    by 0x109312: make_key_values (bug-program.c:61)
==3717==    by 0x109312: main (bug-program.c:70)
==3717==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092D3: add_key_value (bug-program.c:21)
==3717==    by 0x1092D3: make_key_values (bug-program.c:61)
==3717==    by 0x1092D3: main (bug-program.c:70)
==3717== 
==3717== Invalid write of size 8
==3717==    at 0x109315: add_key_value (bug-program.c:33)
==3717==    by 0x109315: make_key_values (bug-program.c:61)
==3717==    by 0x109315: main (bug-program.c:70)
==3717==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092D3: add_key_value (bug-program.c:21)
==3717==    by 0x1092D3: make_key_values (bug-program.c:61)
==3717==    by 0x1092D3: main (bug-program.c:70)
==3717== 
==3717== Invalid read of size 4
==3717==    at 0x109330: main (bug-program.c:72)
==3717==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092D3: add_key_value (bug-program.c:21)
==3717==    by 0x1092D3: make_key_values (bug-program.c:61)
==3717==    by 0x1092D3: main (bug-program.c:70)
==3717== 
==3717== Invalid read of size 1
==3717==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==3717==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==3717==    by 0x48D3605: printf (printf.c:33)
==3717==    by 0x109343: main (bug-program.c:72)
==3717==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092F6: add_key_value (bug-program.c:24)
==3717==    by 0x1092F6: make_key_values (bug-program.c:61)
==3717==    by 0x1092F6: main (bug-program.c:70)
==3717== 
outgrabe: 22
==3717== Invalid read of size 8
==3717==    at 0x109344: main (bug-program.c:71)
==3717==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092D3: add_key_value (bug-program.c:21)
==3717==    by 0x1092D3: make_key_values (bug-program.c:61)
==3717==    by 0x1092D3: main (bug-program.c:70)
==3717== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==3717== Invalid read of size 8
==3717==    at 0x10935D: free_key_values (bug-program.c:42)
==3717==    by 0x10935D: main (bug-program.c:74)
==3717==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==3717==    at 0x48369AB: free (vg_replace_malloc.c:530)
==3717==    by 0x10935C: free_key_values (bug-program.c:44)
==3717==    by 0x10935C: main (bug-program.c:74)
==3717==  Block was alloc'd at
==3717==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==3717==    by 0x1092D3: add_key_value (bug-program.c:21)
==3717==    by 0x1092D3: make_key_values (bug-program.c:61)
==3717==    by 0x1092D3: main (bug-program.c:70)
==3717== 
==3717== 
==3717== HEAP SUMMARY:
==3717==     in use at exit: 0 bytes in 0 blocks
==3717==   total heap usage: 47 allocs, 47 frees, 1,308 bytes allocated
==3717== 
==3717== All heap blocks were freed -- no leaks are possible
==3717== 
==3717== For counts of detected and suppressed errors, rerun with: -v
==3717== ERROR SUMMARY: 161 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ^C
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
make: Nothing to be done for 'all'.
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ m[Kmake clean
rm -f *.o *~ bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:43:11:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kp->key[m[K);
          [01;35m[K~^~~~~[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-progrma[K[Kam.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m1[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[?25l(p->key);[34;6H[7m**[0m[39;49m[27m[28;11H[?12l[?25h[?12;25h[?25lvp->key);[28;12H[?12l[?25h[?12;25h[?25lop->key);[28;13H[?12l[?25h[?12;25h[?25lip->key);[28;14H[?12l[?25h[?12;25h[?25ldp->key);		[?12l[?25h[?12;25h[?25l[32mvoid[39;49m*[33mp[39;49m->key);		[?12l[?25h[?12;25h[?25l[46m([39;49m[32mvoid[39;49m*)p->key);		[?12l[?25h[?12;25h[?25l(	[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[28;17H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[28;17H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[28;17H[?12l[?25h[?12;25h[35;1H[K[28;17H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bu-[Kg-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ema[K[K[Kmake memcheck
valgrind ./bug-program
==4375== Memcheck, a memory error detector
==4375== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==4375== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==4375== Command: ./bug-program
==4375== 
==4375== Invalid write of size 1
==4375==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==4375==    by 0x10930E: add_key_value (bug-program.c:30)
==4375==    by 0x10930E: make_key_values (bug-program.c:61)
==4375==    by 0x10930E: main (bug-program.c:70)
==4375==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092F6: add_key_value (bug-program.c:24)
==4375==    by 0x1092F6: make_key_values (bug-program.c:61)
==4375==    by 0x1092F6: main (bug-program.c:70)
==4375== 
==4375== Invalid write of size 4
==4375==    at 0x109312: add_key_value (bug-program.c:33)
==4375==    by 0x109312: make_key_values (bug-program.c:61)
==4375==    by 0x109312: main (bug-program.c:70)
==4375==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092D3: add_key_value (bug-program.c:21)
==4375==    by 0x1092D3: make_key_values (bug-program.c:61)
==4375==    by 0x1092D3: main (bug-program.c:70)
==4375== 
==4375== Invalid write of size 8
==4375==    at 0x109315: add_key_value (bug-program.c:33)
==4375==    by 0x109315: make_key_values (bug-program.c:61)
==4375==    by 0x109315: main (bug-program.c:70)
==4375==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092D3: add_key_value (bug-program.c:21)
==4375==    by 0x1092D3: make_key_values (bug-program.c:61)
==4375==    by 0x1092D3: main (bug-program.c:70)
==4375== 
==4375== Invalid read of size 4
==4375==    at 0x109330: main (bug-program.c:72)
==4375==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092D3: add_key_value (bug-program.c:21)
==4375==    by 0x1092D3: make_key_values (bug-program.c:61)
==4375==    by 0x1092D3: main (bug-program.c:70)
==4375== 
==4375== Invalid read of size 1
==4375==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==4375==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==4375==    by 0x48D3605: printf (printf.c:33)
==4375==    by 0x109343: main (bug-program.c:72)
==4375==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092F6: add_key_value (bug-program.c:24)
==4375==    by 0x1092F6: make_key_values (bug-program.c:61)
==4375==    by 0x1092F6: main (bug-program.c:70)
==4375== 
outgrabe: 22
==4375== Invalid read of size 8
==4375==    at 0x109344: main (bug-program.c:71)
==4375==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092D3: add_key_value (bug-program.c:21)
==4375==    by 0x1092D3: make_key_values (bug-program.c:61)
==4375==    by 0x1092D3: main (bug-program.c:70)
==4375== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==4375== Invalid read of size 8
==4375==    at 0x10935D: free_key_values (bug-program.c:42)
==4375==    by 0x10935D: main (bug-program.c:74)
==4375==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==4375==    at 0x48369AB: free (vg_replace_malloc.c:530)
==4375==    by 0x10935C: free_key_values (bug-program.c:44)
==4375==    by 0x10935C: main (bug-program.c:74)
==4375==  Block was alloc'd at
==4375==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4375==    by 0x1092D3: add_key_value (bug-program.c:21)
==4375==    by 0x1092D3: make_key_values (bug-program.c:61)
==4375==    by 0x1092D3: main (bug-program.c:70)
==4375== 
==4375== 
==4375== HEAP SUMMARY:
==4375==     in use at exit: 0 bytes in 0 blocks
==4375==   total heap usage: 47 allocs, 47 frees, 1,308 bytes allocated
==4375== 
==4375== All heap blocks were freed -- no leaks are possible
==4375== 
==4375== For counts of detected and suppressed errors, rerun with: -v
==4375== ERROR SUMMARY: 161 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-rp[K[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;2H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m8[0m[39;49m[27m[29;3H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[1;32r[29;1H[1L[1;35r[29;1H[K



[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L28[0m[39;49m[27m[29;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m
[1m[34mexit[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[29;10H[?12l[?25h[?12;25h[35;15H[?25ldone[29;10H[?12l[?25h[?12;25h
[?25lexit[A[C[?12l[?25h[?12;25h[35;1H[K[29;10H[?25l[32mk[39;49m[30;5H[1m[34mexit[0m[39;49m[29;11H[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32ms[39;49m[?12l[?25h[?12;25h	[?25l[46m([39;49mkeyValues)[?12l[?25h[?12;25h	[?25l([29;20H[?12l[?25h[?12;25h[30;5H[?25lexit[29;20H[?12l[?25h[?12;25h[29;10H[?25l[32mkeyValues[39;49m[K[30;5H[1m[34mexit[0m[39;49m[29;19H[?12l[?25h[?12;25h[29;10H[?25lkeyValues-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[30;5H[?25lexit[29;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;21H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;13H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;12H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
[1m[36mreturn[0m[39;49m p;[34;30H[7m44% L49[0m[39;49m[27m[18;21H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;21H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;5H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[33;12H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;21H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;4H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;21H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[23;13H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[22;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;21H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;21H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;5H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[3;21H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[2;21H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K[34;30H[7m44% L48[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;21H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[3;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;32r[3;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(keyValues->[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K[34;30H[7m20% L31[0m[39;49m[27m[18;21H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;21H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;21H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;21H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[7;21H[?12l[?25h[?12;25h[35;15H[?25ldone[7;21H[?12l[?25h[?12;25h[35;1H[K[34;35H[?25l[7m19[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;21H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[7;21H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;21H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;21H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;21H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;21H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;21H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;21H[?12l[?25h[?12;25h[K[15;10H[?25l[32mkeyValues[39;49m[K[16;5H[1m[34mexit[0m[39;49m[15;19H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[?25l([?12l[?25h[?12;25h[?25l[32mv[39;49m[?12l[?25h[?12;25h[?25l[32mo[39;49m[?12l[?25h[?12;25h[?25l[32mi[39;49m[?12l[?25h[?12;25h[?25l[32md[39;49m[?12l[?25h[?12;25h[?25l*[?12l[?25h[?12;25h[?25l[46m([39;49m[32mvoid[39;49m*)[?12l[?25h[?12;25h[?25l([32mvoid[39;49m*)[32mk[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mv[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[K[K[K[K[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32ms[39;49m[?12l[?25h[?12;25h		[?25lkeyValues-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[16;5Hexit[15;29H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h	[?25l[46m([39;49m([32mvoid[39;49m*)keyValues->key)[?12l[?25h[?12;25h	[?25l(([32mvoid[39;49m*)keyValues->key);[?12l[?25h[?12;25h[?25l\[?12l[?25h[?12;25h[K[K[35;1H[?25lMismatched parentheses[15;32H[?12l[?25h[?12;25h[?25l)[?12l[?25h[?12;25h[35;1H[K[15;32H[K[?25l;[?12l[?25h[?12;25h[1;33r[16;1H[1L[1;35r[16;1H[K[34;36H[?25l[7m9[0m[39;49m[27m[16;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m
[1m[34mexit[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h
[?25lexit[A[C[?12l[?25h[?12;25h[?25l[32mk[39;49m[17;5H[1m[34mexit[0m[39;49m[16;11H[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32ms[39;49m[?12l[?25h[?12;25h	[?25l[46m([39;49mkeyValues)[?12l[?25h[?12;25h	[?25l(keyValues);[?12l[?25h[?12;25h[1;33r[17;1H[1L[1;35r[17;1H[K[34;35H[?25l[7m30[0m[39;49m[27m[17;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[?25l[32mk[39;49m[?12l[?25h[?12;25h[?25l[46m([39;49mk)[?12l[?25h[?12;25h[17;3H[?25lfree([35mk[39;49m):[K[?12l[?25h[?12;25h[18;5H[?25lexit[17;11H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[17;11H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[17;11H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[17;11H[?12l[?25h[?12;25h[35;1H[K[17;10H[1@[34;6H[?25l[7m**[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[1@[34;30H[?25l[7m19[0m[39;49m[27m[17;5H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[17;5H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[17;5H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[17;5H[?12l[?25h[?12;25h[35;1H[K[17;5H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kadd_key_value[m[Kâ€™:
[01m[Kbug-program.c:30:10:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kk[m[K):
          [01;35m[K^[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
[01m[Kbug-program.c:30:12:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K;[m[Kâ€™ before â€˜[01m[K:[m[Kâ€™ token
     free(k)[01;31m[K:[m[K
            [01;31m[K^[m[K
            [32m[K;[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free([35mk[39;49m):[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[C[C[34;36H[?25l[7m9[0m[39;49m[27m[30;3H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[?25lk)[K[34;6H[7m**[0m[39;49m[27m[31;12H[?12l[?25h[?12;25h[?25l[32mk[39;49m[K[32;5H[1m[34mexit[0m[39;49m[31;11H[?12l[?25h[?12;25h[K[?25l[32mfree[39;49m[K[?12l[?25h[?12;25h[K[K[K[K[31;5H[31;5H[?25l[1m[34mexit[0m[39;49m(1);[32;3H}[K
strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[34;35H[7m29[0m[39;49m[27m[30;21H[?12l[?25h[?12;25h
[K[32;3H[?25l  [1m[34mexit[0m[39;49m(1);[33;3H}[K[34;35H[7m30[0m[39;49m[27m[31;5H[?12l[?25h[?12;25h[?25l[32mf[39;49m[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h
[?25lexit[A[C[?12l[?25h[?12;25h[?25l[32mk[39;49m[32;5H[1m[34mexit[0m[39;49m[31;11H[?12l[?25h[?12;25h[?25l[46m([39;49mk)[?12l[?25h[?12;25h	[?25l(k);[?12l[?25h[?12;25h[32;5H[?25lexit[31;13H[?12l[?25h[?12;25h



[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[31;13H[?12l[?25h[?12;25h



[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[31;13H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h



[K[31;13H



[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kadd_key_value[m[Kâ€™:
[01m[Kbug-program.c:30:10:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kk[m[K);
          [01;35m[K^[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K./bug-program.c
bash: ./bug-program.c: Permission denied
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-program.c[Kc[K[K
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==4833== Memcheck, a memory error detector
==4833== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==4833== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==4833== Command: ./bug-program
==4833== 
==4833== Invalid write of size 1
==4833==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==4833==    by 0x10930E: add_key_value (bug-program.c:33)
==4833==    by 0x10930E: make_key_values (bug-program.c:64)
==4833==    by 0x10930E: main (bug-program.c:73)
==4833==  Address 0x4a3f094 is 0 bytes after a block of size 4 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092F6: add_key_value (bug-program.c:24)
==4833==    by 0x1092F6: make_key_values (bug-program.c:64)
==4833==    by 0x1092F6: main (bug-program.c:73)
==4833== 
==4833== Invalid write of size 4
==4833==    at 0x109312: add_key_value (bug-program.c:36)
==4833==    by 0x109312: make_key_values (bug-program.c:64)
==4833==    by 0x109312: main (bug-program.c:73)
==4833==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092D3: add_key_value (bug-program.c:21)
==4833==    by 0x1092D3: make_key_values (bug-program.c:64)
==4833==    by 0x1092D3: main (bug-program.c:73)
==4833== 
==4833== Invalid write of size 8
==4833==    at 0x109315: add_key_value (bug-program.c:36)
==4833==    by 0x109315: make_key_values (bug-program.c:64)
==4833==    by 0x109315: main (bug-program.c:73)
==4833==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092D3: add_key_value (bug-program.c:21)
==4833==    by 0x1092D3: make_key_values (bug-program.c:64)
==4833==    by 0x1092D3: main (bug-program.c:73)
==4833== 
==4833== Invalid read of size 4
==4833==    at 0x109330: main (bug-program.c:75)
==4833==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092D3: add_key_value (bug-program.c:21)
==4833==    by 0x1092D3: make_key_values (bug-program.c:64)
==4833==    by 0x1092D3: main (bug-program.c:73)
==4833== 
==4833== Invalid read of size 1
==4833==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==4833==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==4833==    by 0x48D3605: printf (printf.c:33)
==4833==    by 0x109343: main (bug-program.c:75)
==4833==  Address 0x4a3fe58 is 0 bytes after a block of size 8 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092F6: add_key_value (bug-program.c:24)
==4833==    by 0x1092F6: make_key_values (bug-program.c:64)
==4833==    by 0x1092F6: main (bug-program.c:73)
==4833== 
outgrabe: 22
==4833== Invalid read of size 8
==4833==    at 0x109344: main (bug-program.c:74)
==4833==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092D3: add_key_value (bug-program.c:21)
==4833==    by 0x1092D3: make_key_values (bug-program.c:64)
==4833==    by 0x1092D3: main (bug-program.c:73)
==4833== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==4833== Invalid read of size 8
==4833==    at 0x10935D: free_key_values (bug-program.c:45)
==4833==    by 0x10935D: main (bug-program.c:77)
==4833==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==4833==    at 0x48369AB: free (vg_replace_malloc.c:530)
==4833==    by 0x10935C: free_key_values (bug-program.c:47)
==4833==    by 0x10935C: main (bug-program.c:77)
==4833==  Block was alloc'd at
==4833==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==4833==    by 0x1092D3: add_key_value (bug-program.c:21)
==4833==    by 0x1092D3: make_key_values (bug-program.c:64)
==4833==    by 0x1092D3: main (bug-program.c:73)
==4833== 
==4833== 
==4833== HEAP SUMMARY:
==4833==     in use at exit: 0 bytes in 0 blocks
==4833==   total heap usage: 47 allocs, 47 frees, 1,308 bytes allocated
==4833== 
==4833== All heap blocks were freed -- no leaks are possible
==4833== 
==4833== For counts of detected and suppressed errors, rerun with: -v
==4833== ERROR SUMMARY: 161 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-r[Kprogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k));[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(k);[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m0[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[34;35H[?25l[7m30[0m[39;49m[27m[31;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[34;36H[?25l[7m1[0m[39;49m[27m[32;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;13H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[30;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;13H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;13H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;13H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[?25l  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;13H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[21;14H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;14H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;2H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;14H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;14H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;14H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;14H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;14H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;14H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;14H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;14H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;14H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;14H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;14H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;13H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;14H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;14H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[18;14H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[16;13H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[15;13H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[14;14H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[13;14H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[12;14H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[11;14H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[9;14H[?12l[?25h[?12;25h[C		[C[C[C[C[C[C		[C[C[C[C[?25l );[34;6H[7m**[0m[39;49m[27m[9;30H[?12l[?25h[?12;25h[?25l+);[?12l[?25h[?12;25h[?25l );[?12l[?25h[?12;25h[?25l1);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[9;33H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[9;33H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[9;33H[?12l[?25h[?12;25h[35;1H[K[9;33H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make me[K[K
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kadd_key_value[m[Kâ€™:
[01m[Kbug-program.c:30:10:[m[K [01;35m[Kwarning: [m[Kpassing argument 1 of â€˜[01m[Kfree[m[Kâ€™ discards â€˜[01m[Kconst[m[Kâ€™ qualifier from pointer target type [[01;35m[K-Wdiscarded-qualifiers[m[K]
     free([01;35m[Kk[m[K);
          [01;35m[K^[m[K
In file included from [01m[Kbug-program.c:3[m[K:
[01m[K/usr/include/stdlib.h:563:25:[m[K [01;36m[Knote: [m[Kexpected â€˜[01m[Kvoid *[m[Kâ€™ but argument is of type â€˜[01m[Kconst char *[m[Kâ€™
 extern void free ([01;36m[Kvoid *__ptr[m[K) __THROW;
                   [01;36m[K~~~~~~^~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==5528== Memcheck, a memory error detector
==5528== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==5528== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==5528== Command: ./bug-program
==5528== 
==5528== Invalid write of size 4
==5528==    at 0x10930E: add_key_value (bug-program.c:36)
==5528==    by 0x10930E: make_key_values (bug-program.c:64)
==5528==    by 0x10930E: main (bug-program.c:73)
==5528==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==5528==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5528==    by 0x1092D3: add_key_value (bug-program.c:21)
==5528==    by 0x1092D3: make_key_values (bug-program.c:64)
==5528==    by 0x1092D3: main (bug-program.c:73)
==5528== 
==5528== Invalid write of size 8
==5528==    at 0x109311: add_key_value (bug-program.c:36)
==5528==    by 0x109311: make_key_values (bug-program.c:64)
==5528==    by 0x109311: main (bug-program.c:73)
==5528==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==5528==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5528==    by 0x1092D3: add_key_value (bug-program.c:21)
==5528==    by 0x1092D3: make_key_values (bug-program.c:64)
==5528==    by 0x1092D3: main (bug-program.c:73)
==5528== 
==5528== Invalid read of size 4
==5528==    at 0x10932C: main (bug-program.c:75)
==5528==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==5528==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5528==    by 0x1092D3: add_key_value (bug-program.c:21)
==5528==    by 0x1092D3: make_key_values (bug-program.c:64)
==5528==    by 0x1092D3: main (bug-program.c:73)
==5528== 
outgrabe: 22
==5528== Invalid read of size 8
==5528==    at 0x109340: main (bug-program.c:74)
==5528==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==5528==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5528==    by 0x1092D3: add_key_value (bug-program.c:21)
==5528==    by 0x1092D3: make_key_values (bug-program.c:64)
==5528==    by 0x1092D3: main (bug-program.c:73)
==5528== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==5528== Invalid read of size 8
==5528==    at 0x109359: free_key_values (bug-program.c:45)
==5528==    by 0x109359: main (bug-program.c:77)
==5528==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==5528==    at 0x48369AB: free (vg_replace_malloc.c:530)
==5528==    by 0x109358: free_key_values (bug-program.c:47)
==5528==    by 0x109358: main (bug-program.c:77)
==5528==  Block was alloc'd at
==5528==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5528==    by 0x1092D3: add_key_value (bug-program.c:21)
==5528==    by 0x1092D3: make_key_values (bug-program.c:64)
==5528==    by 0x1092D3: main (bug-program.c:73)
==5528== 
==5528== 
==5528== HEAP SUMMARY:
==5528==     in use at exit: 0 bytes in 0 blocks
==5528==   total heap usage: 47 allocs, 47 frees, 1,331 bytes allocated
==5528== 
==5528== All heap blocks were freed -- no leaks are possible
==5528== 
==5528== For counts of detected and suppressed errors, rerun with: -v
==5528== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs val[K[K[Kbug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(k);[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[C[34;35H[?25l[7m30[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[C[C[C[34;36H[?25l[7m1[0m[39;49m[27m[32;5H[?12l[?25h[?12;25h[C[34;36H[?25l[7m0[0m[39;49m[27m[31;6H[?12l[?25h[?12;25h[C		[C[C[C[C[K[34;6H[?25l[7m**[0m[39;49m[27m[31;12H[?12l[?25h[?12;25h[?25l[32mk[39;49m[K[32;5H[1m[34mexit[0m[39;49m[31;11H[?12l[?25h[?12;25h[K[?25l[32ms[39;49m[?12l[?25h[?12;25h[?25l[46m([39;49ms)[?12l[?25h[?12;25h	[?25l(s);[?12l[?25h[?12;25h



[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[31;13H[?12l[?25h[?12;25h



[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[31;13H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h



[K[31;13H



[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ me[Kake memcheck
valgrind ./bug-program
==5647== Memcheck, a memory error detector
==5647== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==5647== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==5647== Command: ./bug-program
==5647== 
==5647== Invalid write of size 4
==5647==    at 0x10930E: add_key_value (bug-program.c:36)
==5647==    by 0x10930E: make_key_values (bug-program.c:64)
==5647==    by 0x10930E: main (bug-program.c:73)
==5647==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==5647==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5647==    by 0x1092D3: add_key_value (bug-program.c:21)
==5647==    by 0x1092D3: make_key_values (bug-program.c:64)
==5647==    by 0x1092D3: main (bug-program.c:73)
==5647== 
==5647== Invalid write of size 8
==5647==    at 0x109311: add_key_value (bug-program.c:36)
==5647==    by 0x109311: make_key_values (bug-program.c:64)
==5647==    by 0x109311: main (bug-program.c:73)
==5647==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==5647==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5647==    by 0x1092D3: add_key_value (bug-program.c:21)
==5647==    by 0x1092D3: make_key_values (bug-program.c:64)
==5647==    by 0x1092D3: main (bug-program.c:73)
==5647== 
==5647== Invalid read of size 4
==5647==    at 0x10932C: main (bug-program.c:75)
==5647==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==5647==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5647==    by 0x1092D3: add_key_value (bug-program.c:21)
==5647==    by 0x1092D3: make_key_values (bug-program.c:64)
==5647==    by 0x1092D3: main (bug-program.c:73)
==5647== 
outgrabe: 22
==5647== Invalid read of size 8
==5647==    at 0x109340: main (bug-program.c:74)
==5647==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==5647==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5647==    by 0x1092D3: add_key_value (bug-program.c:21)
==5647==    by 0x1092D3: make_key_values (bug-program.c:64)
==5647==    by 0x1092D3: main (bug-program.c:73)
==5647== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==5647== Invalid read of size 8
==5647==    at 0x109359: free_key_values (bug-program.c:45)
==5647==    by 0x109359: main (bug-program.c:77)
==5647==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==5647==    at 0x48369AB: free (vg_replace_malloc.c:530)
==5647==    by 0x109358: free_key_values (bug-program.c:47)
==5647==    by 0x109358: main (bug-program.c:77)
==5647==  Block was alloc'd at
==5647==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==5647==    by 0x1092D3: add_key_value (bug-program.c:21)
==5647==    by 0x1092D3: make_key_values (bug-program.c:64)
==5647==    by 0x1092D3: main (bug-program.c:73)
==5647== 
==5647== 
==5647== HEAP SUMMARY:
==5647==     in use at exit: 0 bytes in 0 blocks
==5647==   total heap usage: 47 allocs, 47 frees, 1,331 bytes allocated
==5647== 
==5647== All heap blocks were freed -- no leaks are possible
==5647== 
==5647== For counts of detected and suppressed errors, rerun with: -v
==5647== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[?25l  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K[34;30H[7m42% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[C[C[C[C[34;36H[?25l[7m6[0m[39;49m[27m[15;5H[?12l[?25h[?12;25h[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[34;36H[?25l[7m5[0m[39;49m[27m[14;25H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;25H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;25H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;25H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;25H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;24H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;25H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;25H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;25H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;25H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;25H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;5H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;25H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A			[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;25H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;25H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;25H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;25H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;25H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;5H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;25H[?12l[?25h[?12;25h[C[C[C[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[C[C[1;33r[19;1H[1L[1;35r[19;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Bot L66[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25l[46m([39;49mkeys)[?12l[?25h[?12;25h[?25l(keys);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;14H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;14H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[19;14H[?12l[?25h[?12;25h[35;1H[K[19;14H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
In function â€˜[01m[Kmake_key_values[m[Kâ€™,
    inlined from â€˜[01m[Kmain[m[Kâ€™ at [01m[Kbug-program.c:74:32[m[K:
[01m[Kbug-program.c:66:3:[m[K [01;35m[Kwarning: [m[Kattempt to free a non-heap object â€˜[01m[Kkeys[m[Kâ€™ [[01;35m[K-Wfree-nonheap-object[m[K]
   [01;35m[Kfree(keys)[m[K;
   [01;35m[K^~~~~~~~~~[m[K
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[?25l  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K[34;30H[7m42% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  }[K
  free(keys);[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;35H[?25l[7m80[0m[39;49m[27m[A[?12l[?25h[?12;25h[2d[2@[3;3H[?25lfree(keys);
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K[11;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K[12;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[13;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[K[14;4H[K
free_key_values(keyValues);[16;3H[1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K

[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[34;36H[7m1[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[35d[?25lEnd of buffer[18;1H[?12l[?25h[?12;25h[35d[K[34;36H[?25l[7m0[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;35H[?25l[7m79[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[H
[?12l[?25h[?12;25h
[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[11;3H  [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[12;3H  [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K[13;5H[32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[14;3H  [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[15;3H};[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[18;5Hp = add_key_value(p, keys[i], i);[19;3H}
free(keys);[21;3H[1m[36mreturn[0m[39;49m p;
}

[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m
[32mint[39;49m [1m[34mmain[0m[39;49m() {[28;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[29;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[30;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[31;3H}
free_key_values(keyValues);[33;3H[1m[36mreturn[0m[39;49m 0;[34;30H[7m61% L64[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[?25l\[34;6H[7m**[0m[39;49m[27m[20;15H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[K[K[C[C[1;33r[20;1H[1M[1;35r[33;1H[?25l}[K[34;30H[7mBot L65[0m[39;49m[27m[19;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[18;4H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[18;4H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m3[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[19;4H[?12l[?25h[?12;25h[1;33r[20;1H[1L[1;35r[20;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   61% L66[0m[39;49m[27m[20;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[?25l[46m([39;49mp)[?12l[?25h[?12;25h[?25l(p);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[20;11H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[20;11H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[20;11H[?12l[?25h[?12;25h[35;1H[K[20;11H[35;1H[?25lC-c C-x C-c is undefined[20;11H[?12l[?25h[?12;25h[35;1H[K[20;11H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ .[Kmam[K[K[K./bug-program
(null): -1726726128
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;32r[2;1H[16M[1;35r[17;1H[?25l  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K[34;30H[7m42% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  }[K
  free(p);[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;35H[?25l[7m80[0m[39;49m[27m[A[?12l[?25h[?12;25h[2d[2@[3;3H[?25lfree(p);
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K[11;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K[12;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[13;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[K[14;4H[K
free_key_values(keyValues);[16;3H[1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K

[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[34;36H[7m1[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;35H[?25l[7m79[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[H
[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[K[34;6H[?25l[7m**[0m[39;49m[27m[3;10H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[3;3H[1;17r[3;1H[1M[1;35r[17;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[2;4H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[2;4H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[35;1H[K[3d[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[31m *  Jabberwocky with value being the index of the word.                [39;49m[7;3H[31m/[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[10;3H[1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K[11;3H  [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K[12;5H[32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[13;3H  [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[14;3H  [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[15;3H};[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[17;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[18;5Hp = add_key_value(p, keys[i], i);[19;3H}
[1m[36mreturn[0m[39;49m p;
}

[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[31m *  paired with their index in the verse.                                                           [39;49m
[31m */[39;49m
[32mint[39;49m [1m[34mmain[0m[39;49m() {[27;3H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[28;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[29;5Hprintf([32m"%s: %d\n"[39;49m, p->key, p->value);[30;3H}
free_key_values(keyValues);[32;3H[1m[36mreturn[0m[39;49m 0;
}[34;36H[7m4[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[10;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[7;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[6;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[3;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A[34;30H[7m41% L47[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[9;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[7;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[6;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [31m//allocate storage for string pointed to by k                                                     [39;49m
[A
  [32mchar[39;49m *[33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K[34;30H[7m17% L30[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[11;5H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[12;5H[?12l[?25h[?12;25h[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[?25l[1P[34;6H[7m**[0m[39;49m[27m[12;25H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@i[?12l[?25h[?12;25h[?25l[1@z[?12l[?25h[?12;25h[?25l[1@e[?12l[?25h[?12;25h[?25l[1@o[?12l[?25h[?12;25h[?25l[1m[36msizeo[0m[39;49m[1@[1m[36mf[0m[39;49m[?12l[?25h[?12;25h[C[?25l(k) + 1);[12;27H[?12l[?25h[?12;25h[1;33r[13;1H[1M[1;35r[11;3H[?25l(k) + 1);[K
[K[33d    free(([32mvoid[39;49m*)p->key);[K[34;36H[7m3[0m[39;49m[27m[11;3H[?12l[?25h[?12;25h[?25l[1@m[?12l[?25h[?12;25h[?25l[1@a[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@c[?12l[?25h[?12;25h[?25l[1@h[?12l[?25h[?12;25h[?25l[1@a[?12l[?25h[?12;25h[?25l[32mchar[39;49m([33mk[39;49m) + 1);	[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[1m[34mI[0m[39;49m(k) + 1);	[?12l[?25h[?12;25h[?25l([33mk[39;49m) + 1);[K	[?12l[?25h[?12;25h[?25l[1@*[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[1m[34ms[0m[39;49m(k) + 1);[11;11H[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[33ms[39;49m [1@=[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[1@m[?12l[?25h[?12;25h[?25l[1@a[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@o[?12l[?25h[?12;25h[?25l[1@c[?12l[?25h[?12;25h[C[?25l(k) + 1);[11;21H[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@t[?12l[?25h[?12;25h[?25l[1@r[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@e[?12l[?25h[?12;25h[?25l[1@n[?12l[?25h[?12;25h[C[?25l(k) + 1);[11;28H[?12l[?25h[?12;25h[?25lk) + 1);[K[11;27H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[35d[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[12;1H[?12l[?25h[?12;25h[35d[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[12;1H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[35d[K[12d[35d[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==6504== Memcheck, a memory error detector
==6504== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6504== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==6504== Command: ./bug-program
==6504== 
==6504== Invalid write of size 4
==6504==    at 0x10930E: add_key_value (bug-program.c:35)
==6504==    by 0x10930E: make_key_values (bug-program.c:63)
==6504==    by 0x10930E: main (bug-program.c:72)
==6504==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==6504==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6504==    by 0x1092D3: add_key_value (bug-program.c:21)
==6504==    by 0x1092D3: make_key_values (bug-program.c:63)
==6504==    by 0x1092D3: main (bug-program.c:72)
==6504== 
==6504== Invalid write of size 8
==6504==    at 0x109311: add_key_value (bug-program.c:35)
==6504==    by 0x109311: make_key_values (bug-program.c:63)
==6504==    by 0x109311: main (bug-program.c:72)
==6504==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==6504==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6504==    by 0x1092D3: add_key_value (bug-program.c:21)
==6504==    by 0x1092D3: make_key_values (bug-program.c:63)
==6504==    by 0x1092D3: main (bug-program.c:72)
==6504== 
==6504== Invalid read of size 4
==6504==    at 0x10932C: main (bug-program.c:74)
==6504==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==6504==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6504==    by 0x1092D3: add_key_value (bug-program.c:21)
==6504==    by 0x1092D3: make_key_values (bug-program.c:63)
==6504==    by 0x1092D3: main (bug-program.c:72)
==6504== 
outgrabe: 22
==6504== Invalid read of size 8
==6504==    at 0x109340: main (bug-program.c:73)
==6504==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==6504==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6504==    by 0x1092D3: add_key_value (bug-program.c:21)
==6504==    by 0x1092D3: make_key_values (bug-program.c:63)
==6504==    by 0x1092D3: main (bug-program.c:72)
==6504== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==6504== Invalid read of size 8
==6504==    at 0x109359: free_key_values (bug-program.c:44)
==6504==    by 0x109359: main (bug-program.c:76)
==6504==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==6504==    at 0x48369AB: free (vg_replace_malloc.c:530)
==6504==    by 0x109358: free_key_values (bug-program.c:46)
==6504==    by 0x109358: main (bug-program.c:76)
==6504==  Block was alloc'd at
==6504==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6504==    by 0x1092D3: add_key_value (bug-program.c:21)
==6504==    by 0x1092D3: make_key_values (bug-program.c:63)
==6504==    by 0x1092D3: main (bug-program.c:72)
==6504== 
==6504== 
==6504== HEAP SUMMARY:
==6504==     in use at exit: 0 bytes in 0 blocks
==6504==   total heap usage: 47 allocs, 47 frees, 1,331 bytes allocated
==6504== 
==6504== All heap blocks were freed -- no leaks are possible
==6504== 
==6504== For counts of detected and suppressed errors, rerun with: -v
==6504== ERROR SUMMARY: 115 errors from 5 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ m[Kemacs ub-[K[K[Kbug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[C[C[C[C[C[C[34;36H[?25l[7m3[0m[39;49m[27m[28;7H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;7H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;7H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;7H[?12l[?25h[?12;25h		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[?25l[1@ [34;6H[7m**[0m[39;49m[27m[29;50H[?12l[?25h[?12;25h[?25l[1@&[?12l[?25h[?12;25h[?25l[1@&[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[1@p[?12l[?25h[?12;25h[?25l[1@-[?12l[?25h[?12;25h[?25l[1@>[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@u[?12l[?25h[?12;25h[?25l[1@c[?12l[?25h[?12;25h[?25l[1@c[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[29;61H[?12l[?25h[?12;25h[35;15H[?25ldone[29;61H[?12l[?25h[?12;25h[35;1H[K[29;61H[?25l[1@![?12l[?25h[?12;25h[?25l![1@=[?12l[?25h[?12;25h[?25l[1@ [?12l[?25h[?12;25h[?25l[1@N[?12l[?25h[?12;25h[?25l[1@U[?12l[?25h[?12;25h[?25l[1@L[?12l[?25h[?12;25h[?25l[35mNUL[39;49m[1@[35mL[39;49m[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[29;68H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[29;68H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[29;68H[?12l[?25h[?12;25h[35;1H[K[29;68H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mame[K[K[K[Kmake [K[K[K[K[K./bug-program.[K
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mam[Kke mech[K[Kmcheck
valgrind ./bug-program
==6737== Memcheck, a memory error detector
==6737== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6737== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==6737== Command: ./bug-program
==6737== 
==6737== Invalid write of size 4
==6737==    at 0x109316: add_key_value (bug-program.c:35)
==6737==    by 0x109316: make_key_values (bug-program.c:63)
==6737==    by 0x109316: main (bug-program.c:72)
==6737==  Address 0x4a3f048 is 0 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
==6737== Invalid write of size 8
==6737==    at 0x109319: add_key_value (bug-program.c:35)
==6737==    by 0x109319: make_key_values (bug-program.c:63)
==6737==    by 0x109319: main (bug-program.c:72)
==6737==  Address 0x4a3f050 is 8 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
==6737== Invalid read of size 4
==6737==    at 0x109334: main (bug-program.c:74)
==6737==  Address 0x4a3fe08 is 0 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
outgrabe: 22
==6737== Invalid read of size 8
==6737==    at 0x109348: main (bug-program.c:73)
==6737==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==6737== Invalid read of size 8
==6737==    at 0x109351: free_key_values (bug-program.c:44)
==6737==    by 0x109351: main (bug-program.c:76)
==6737==  Address 0x4a3fe10 is 8 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
==6737== Invalid read of size 8
==6737==    at 0x109368: free_key_values (bug-program.c:44)
==6737==    by 0x109368: main (bug-program.c:76)
==6737==  Address 0x4a3fe10 is 8 bytes after a block of size 8 free'd
==6737==    at 0x48369AB: free (vg_replace_malloc.c:530)
==6737==    by 0x109367: free_key_values (bug-program.c:46)
==6737==    by 0x109367: main (bug-program.c:76)
==6737==  Block was alloc'd at
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
==6737== Invalid read of size 8
==6737==    at 0x109371: free_key_values (bug-program.c:44)
==6737==    by 0x109371: main (bug-program.c:76)
==6737==  Address 0x4a3fd70 is 8 bytes after a block of size 8 alloc'd
==6737==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6737==    by 0x1092D3: add_key_value (bug-program.c:21)
==6737==    by 0x1092D3: make_key_values (bug-program.c:63)
==6737==    by 0x1092D3: main (bug-program.c:72)
==6737== 
==6737== 
==6737== HEAP SUMMARY:
==6737==     in use at exit: 13 bytes in 2 blocks
==6737==   total heap usage: 47 allocs, 45 frees, 1,331 bytes allocated
==6737== 
==6737== LEAK SUMMARY:
==6737==    definitely lost: 8 bytes in 1 blocks
==6737==    indirectly lost: 5 bytes in 1 blocks
==6737==      possibly lost: 0 bytes in 0 blocks
==6737==    still reachable: 0 bytes in 0 blocks
==6737==         suppressed: 0 bytes in 0 blocks
==6737== Rerun with --leak-check=full to see details of leaked memory
==6737== 
==6737== For counts of detected and suppressed errors, rerun with: -v
==6737== ERROR SUMMARY: 137 errors from 7 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[22;21H[C[C	[22;27H[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C	[?25l));[K[34;6H[7m**[0m[39;49m[27m[22;55H[?12l[?25h[?12;25h[?25l));[K[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;36H[?12l[?25h[?12;25h[34d[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;54H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;54H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;33H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;21H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;13H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;13H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;54H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m && p->succ != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;52H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;52H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;13H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;46H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;44H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;44H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[25;12H[?12l[?25h[?12;25h[35;15H[?25ldone[25;12H[?12l[?25h[?12;25h[35;1H[K[34;35H[?25l[7m39[0m[39;49m[27m[24;46H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;46H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;44H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;31H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;54H[?12l[?25h[?12;25h[C		[C[C[C[C[C[C[C		[C[C[C[C[?25lNUL[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[2P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[2P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[2P[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[29;49H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[29;49H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[29;49H[?12l[?25h[?12;25h[35;1H[K[29;49H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==6951== Memcheck, a memory error detector
==6951== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==6951== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==6951== Command: ./bug-program
==6951== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==6951== Invalid read of size 8
==6951==    at 0x109359: free_key_values (bug-program.c:44)
==6951==    by 0x109359: main (bug-program.c:76)
==6951==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==6951==    at 0x48369AB: free (vg_replace_malloc.c:530)
==6951==    by 0x109358: free_key_values (bug-program.c:46)
==6951==    by 0x109358: main (bug-program.c:76)
==6951==  Block was alloc'd at
==6951==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==6951==    by 0x1092D3: add_key_value (bug-program.c:21)
==6951==    by 0x1092D3: make_key_values (bug-program.c:63)
==6951==    by 0x1092D3: main (bug-program.c:72)
==6951== 
==6951== 
==6951== HEAP SUMMARY:
==6951==     in use at exit: 0 bytes in 0 blocks
==6951==   total heap usage: 47 allocs, 47 frees, 1,699 bytes allocated
==6951== 
==6951== All heap blocks were freed -- no leaks are possible
==6951== 
==6951== For counts of detected and suppressed errors, rerun with: -v
==6951== ERROR SUMMARY: 23 errors from 1 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs b[K[K[K[K[K[K[Kmak[K[K[K./va[K[K[K[Kvalgrind -v ./bug-rp[K[Kprogram
==7015== Memcheck, a memory error detector
==7015== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7015== Using Valgrind-3.14.0-353a3587bb-20181007X and LibVEX; rerun with -h for copyright info
==7015== Command: ./bug-program
==7015== 
--7015-- Valgrind options:
--7015--    -v
--7015-- Contents of /proc/version:
--7015--   Linux version 4.19.0-5-amd64 (debian-kernel@lists.debian.org) (gcc version 8.3.0 (Debian 8.3.0-7)) #1 SMP Debian 4.19.37-5 (2019-06-19)
--7015-- 
--7015-- Arch and hwcaps: AMD64, LittleEndian, amd64-cx16-lzcnt-rdtscp-sse3-avx-avx2-bmi
--7015-- Page sizes: currently 4096, max supported 4096
--7015-- Valgrind library directory: /usr/lib/x86_64-linux-gnu/valgrind
--7015-- Reading syms from /import/linux/home1/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program
--7015-- Reading syms from /lib/x86_64-linux-gnu/ld-2.28.so
--7015--   Considering /usr/lib/debug/.build-id/f2/5dfd7b95be4ba386fd71080accae8c0732b711.debug ..
--7015--   .. build-id is valid
--7015-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/memcheck-amd64-linux
--7015--   Considering /usr/lib/debug/.build-id/32/2e77af97f403c3d34ff09edf60b089e72ec889.debug ..
--7015--   .. build-id is valid
--7015--    object doesn't have a dynamic symbol table
--7015-- Scheduler: using generic scheduler lock implementation.
--7015-- Reading suppressions file: /usr/lib/x86_64-linux-gnu/valgrind/default.supp
==7015== embedded gdbserver: reading from /tmp/vgdb-pipe-from-vgdb-to-7015-by-thur1-on-???
==7015== embedded gdbserver: writing to   /tmp/vgdb-pipe-to-vgdb-from-7015-by-thur1-on-???
==7015== embedded gdbserver: shared mem   /tmp/vgdb-pipe-shared-mem-vgdb-7015-by-thur1-on-???
==7015== 
==7015== TO CONTROL THIS PROCESS USING vgdb (which you probably
==7015== don't want to do, unless you know exactly what you're doing,
==7015== or are doing some strange experiment):
==7015==   /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=7015 ...command...
==7015== 
==7015== TO DEBUG THIS PROCESS USING GDB: start GDB like this
==7015==   /path/to/gdb ./bug-program
==7015== and then give GDB the following command
==7015==   target remote | /usr/lib/x86_64-linux-gnu/valgrind/../../bin/vgdb --pid=7015
==7015== --pid is optional if only one valgrind process is running
==7015== 
--7015-- REDIR: 0x401e2f0 (ld-linux-x86-64.so.2:strlen) redirected to 0x580c9ce2 (vgPlain_amd64_linux_REDIR_FOR_strlen)
--7015-- REDIR: 0x401e0d0 (ld-linux-x86-64.so.2:index) redirected to 0x580c9cfc (vgPlain_amd64_linux_REDIR_FOR_index)
--7015-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_core-amd64-linux.so
--7015--   Considering /usr/lib/debug/.build-id/34/fbc4cdfbfce1bfc3d2e522a01a050bf724c930.debug ..
--7015--   .. build-id is valid
--7015-- Reading syms from /usr/lib/x86_64-linux-gnu/valgrind/vgpreload_memcheck-amd64-linux.so
--7015--   Considering /usr/lib/debug/.build-id/ca/bb7898ea982d936cbfadd70ae831c6eb63623f.debug ..
--7015--   .. build-id is valid
==7015== WARNING: new redirection conflicts with existing -- ignoring it
--7015--     old: 0x0401e2f0 (strlen              ) R-> (0000.0) 0x580c9ce2 vgPlain_amd64_linux_REDIR_FOR_strlen
--7015--     new: 0x0401e2f0 (strlen              ) R-> (2007.0) 0x04838d80 strlen
--7015-- REDIR: 0x401ab10 (ld-linux-x86-64.so.2:strcmp) redirected to 0x4839e40 (strcmp)
--7015-- REDIR: 0x401e830 (ld-linux-x86-64.so.2:mempcpy) redirected to 0x483d860 (mempcpy)
--7015-- Reading syms from /lib/x86_64-linux-gnu/libc-2.28.so
--7015--   Considering /usr/lib/debug/.build-id/18/b9a9a8c523e5cfe5b5d946d605d09242f09798.debug ..
--7015--   .. build-id is valid
--7015-- REDIR: 0x4903f70 (libc.so.6:memmove) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903160 (libc.so.6:strncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4904250 (libc.so.6:strcasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4902b70 (libc.so.6:strcat) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903190 (libc.so.6:rindex) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4905890 (libc.so.6:rawmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x491e230 (libc.so.6:wmemchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x491dcd0 (libc.so.6:wcscmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49040e0 (libc.so.6:mempcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903f10 (libc.so.6:bcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903100 (libc.so.6:strncmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4902be0 (libc.so.6:strcmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4904040 (libc.so.6:memset) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x491dca0 (libc.so.6:wcschr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49030a0 (libc.so.6:strnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4902c70 (libc.so.6:strcspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49042a0 (libc.so.6:strncasecmp) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4902c40 (libc.so.6:strcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49043e0 (libc.so.6:memcpy@@GLIBC_2.14) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x491f4d0 (libc.so.6:wcsnlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49031c0 (libc.so.6:strpbrk) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4902ba0 (libc.so.6:index) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903070 (libc.so.6:strlen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x490a280 (libc.so.6:memrchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49042f0 (libc.so.6:strcasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903ee0 (libc.so.6:memchr) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x491ddb0 (libc.so.6:wcslen) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4903460 (libc.so.6:strspn) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4904220 (libc.so.6:stpncpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49041f0 (libc.so.6:stpcpy) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49058c0 (libc.so.6:strchrnul) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x4904340 (libc.so.6:strncasecmp_l) redirected to 0x482b1b0 (_vgnU_ifunc_wrapper)
--7015-- REDIR: 0x49d6fa0 (libc.so.6:__strrchr_avx2) redirected to 0x4838790 (rindex)
--7015-- REDIR: 0x48ff350 (libc.so.6:malloc) redirected to 0x4835710 (malloc)
--7015-- REDIR: 0x4918100 (libc.so.6:__strcpy_sse2_unaligned) redirected to 0x4838db0 (strcpy)
--7015-- REDIR: 0x49d6db0 (libc.so.6:__strchrnul_avx2) redirected to 0x483d390 (strchrnul)
--7015-- REDIR: 0x49d7170 (libc.so.6:__strlen_avx2) redirected to 0x4838c60 (strlen)
--7015-- REDIR: 0x49d7690 (libc.so.6:__mempcpy_avx_unaligned_erms) redirected to 0x483d4a0 (mempcpy)
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
--7015-- REDIR: 0x48ff9a0 (libc.so.6:free) redirected to 0x4836940 (free)
==7015== Invalid read of size 8
==7015==    at 0x109359: free_key_values (bug-program.c:44)
==7015==    by 0x109359: main (bug-program.c:76)
==7015==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==7015==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7015==    by 0x109358: free_key_values (bug-program.c:46)
==7015==    by 0x109358: main (bug-program.c:76)
==7015==  Block was alloc'd at
==7015==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7015==    by 0x1092D3: add_key_value (bug-program.c:21)
==7015==    by 0x1092D3: make_key_values (bug-program.c:63)
==7015==    by 0x1092D3: main (bug-program.c:72)
==7015== 
==7015== 
==7015== HEAP SUMMARY:
==7015==     in use at exit: 0 bytes in 0 blocks
==7015==   total heap usage: 47 allocs, 47 frees, 1,699 bytes allocated
==7015== 
==7015== All heap blocks were freed -- no leaks are possible
==7015== 
==7015== ERROR SUMMARY: 23 errors from 1 contexts (suppressed: 0 from 0)
==7015== 
==7015== 23 errors in context 1 of 1:
==7015== Invalid read of size 8
==7015==    at 0x109359: free_key_values (bug-program.c:44)
==7015==    by 0x109359: main (bug-program.c:76)
==7015==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==7015==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7015==    by 0x109358: free_key_values (bug-program.c:46)
==7015==    by 0x109358: main (bug-program.c:76)
==7015==  Block was alloc'd at
==7015==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7015==    by 0x1092D3: add_key_value (bug-program.c:21)
==7015==    by 0x1092D3: make_key_values (bug-program.c:63)
==7015==    by 0x1092D3: main (bug-program.c:72)
==7015== 
==7015== ERROR SUMMARY: 23 errors from 1 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs [K[K[K[K[K[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    free(([32mvoid[39;49m*)keyValues->key);[K
    free(keyValues);[K
    free(s);[K
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m0[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m8[0m[39;49m[27m[29;3H[?12l[?25h[?12;25h[C[34;36H[?25l[7m7[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[C[?25l[1@/[34d[7m**[0m[39;49m[27m[28;6H[?12l[?25h[?12;25h[?25l[31m//free((void*)keyValues->key);                                                                  [39;49m
[28;7H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;7H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;7H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;6H[?12l[?25h[?12;25h[?25l[1@/[?12l[?25h[?12;25h[?25l[31m//free(keyValues);                                                                              [39;49m
[29;7H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;7H[?12l[?25h[?12;25h[?25l/free(s);[30;6H[?12l[?25h[?12;25h[?25l[31m//free(s);                                                                                      [39;49m
[30;7H[?12l[?25h[?12;25h




[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[30;7H[?12l[?25h[?12;25h




[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[30;7H[?12l[?25h[?12;25h



[?25l[7m--[0m[39;49m[27m[30;7H[?12l[?25h[?12;25h




[K[30;7H




[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug=[K-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==7391== Memcheck, a memory error detector
==7391== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7391== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==7391== Command: ./bug-program
==7391== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==7391== Invalid read of size 8
==7391==    at 0x109359: free_key_values (bug-program.c:44)
==7391==    by 0x109359: main (bug-program.c:76)
==7391==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==7391==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7391==    by 0x109358: free_key_values (bug-program.c:46)
==7391==    by 0x109358: main (bug-program.c:76)
==7391==  Block was alloc'd at
==7391==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7391==    by 0x1092D3: add_key_value (bug-program.c:21)
==7391==    by 0x1092D3: make_key_values (bug-program.c:63)
==7391==    by 0x1092D3: main (bug-program.c:72)
==7391== 
==7391== 
==7391== HEAP SUMMARY:
==7391==     in use at exit: 0 bytes in 0 blocks
==7391==   total heap usage: 47 allocs, 47 frees, 1,699 bytes allocated
==7391== 
==7391== All heap blocks were freed -- no leaks are possible
==7391== 
==7391== For counts of detected and suppressed errors, rerun with: -v
==7391== ERROR SUMMARY: 23 errors from 1 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;2H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[31;3H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[31;5H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;5H[?12l[?25h[?12;25h[C[C		[C[C[34;36H[?25l[7m4[0m[39;49m[27m[29;11H[?12l[?25h[?12;25h[C[C[C[C		[C[C[34;36H[?25l[7m5[0m[39;49m[27m[30;19H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;19H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C
[K
[2@[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   21% L47[0m[39;49m[27m[32;5H[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h	[?25lp[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h


[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[32;17H[?12l[?25h[?12;25h


[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[32;17H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[32;17H[?12l[?25h[?12;25h


[K[32;17H


[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mam[Kke mec[Kmcheck
valgrind ./bug-program
==7563== Memcheck, a memory error detector
==7563== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7563== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==7563== Command: ./bug-program
==7563== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==7563== Invalid read of size 8
==7563==    at 0x10935D: free_key_values (bug-program.c:47)
==7563==    by 0x10935D: main (bug-program.c:77)
==7563==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==7563==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7563==    by 0x10935C: free_key_values (bug-program.c:46)
==7563==    by 0x10935C: main (bug-program.c:77)
==7563==  Block was alloc'd at
==7563==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7563==    by 0x1092D3: add_key_value (bug-program.c:21)
==7563==    by 0x1092D3: make_key_values (bug-program.c:64)
==7563==    by 0x1092D3: main (bug-program.c:73)
==7563== 
==7563== Invalid read of size 8
==7563==    at 0x109361: free_key_values (bug-program.c:44)
==7563==    by 0x109361: main (bug-program.c:77)
==7563==  Address 0x10 is not stack'd, malloc'd or (recently) free'd
==7563== 
==7563== 
==7563== Process terminating with default action of signal 11 (SIGSEGV)
==7563==  Access not within mapped region at address 0x10
==7563==    at 0x109361: free_key_values (bug-program.c:44)
==7563==    by 0x109361: main (bug-program.c:77)
==7563==  If you believe this happened as a result of a stack
==7563==  overflow in your program's main thread (unlikely but
==7563==  possible), you can try to increase the size of the
==7563==  main thread stack using the --main-stacksize= flag.
==7563==  The main thread stack size used in this run was 8388608.
==7563== 
==7563== HEAP SUMMARY:
==7563==     in use at exit: 327 bytes in 22 blocks
==7563==   total heap usage: 47 allocs, 25 frees, 1,699 bytes allocated
==7563== 
==7563== LEAK SUMMARY:
==7563==    definitely lost: 264 bytes in 11 blocks
==7563==    indirectly lost: 63 bytes in 11 blocks
==7563==      possibly lost: 0 bytes in 0 blocks
==7563==    still reachable: 0 bytes in 0 blocks
==7563==         suppressed: 0 bytes in 0 blocks
==7563== Rerun with --leak-check=full to see details of leaked memory
==7563== 
==7563== For counts of detected and suppressed errors, rerun with: -v
==7563== ERROR SUMMARY: 13 errors from 2 contexts (suppressed: 0 from 0)
make: *** [Makefile:13: memcheck] Segmentation fault
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ema[Kacs m[K[K[K[K[K[K[Kls[K[Kls
bug-program  bug-program.c  bug-program.c~  bug-program.valgrind  Makefile
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emas bug-program.c
bash: emas: command not found
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
    p = p->succ;[K
  }[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[15;3H[?12l[?25h[?12;25h[C[34;36H[?25l[7m7[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[C[C[C		[C[C[C[C[C[C[C		[K[34;6H[?25l[7m**[0m[39;49m[27m[16;16H[?12l[?25h[?12;25h[K[K[K[K[K[K[K	[K[K[16;5H[1;33r[16;1H[1M[1;35r[33;1H[?25l  }[K[34;36H[7m6[0m[39;49m[27m[15;36H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[15;36H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[15;36H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[15;36H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[14;25H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[13;36H[?12l[?25h[?12;25h[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[1;33r[14;1H[1L[1;35r[14;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   44% L45[0m[39;49m[27m[14;5H[?12l[?25h[?12;25h[?25lt
[32mfree[39;49m[A[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h[C[15;5H[?25lfree[14;12H[?12l[?25h[?12;25h[K
[?25l[32mfree[39;49m[A[C[?12l[?25h[?12;25h[K[K[K[K[14;5H[?25ls[?12l[?25h[?12;25h[?25lt[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h[C[?25l[32mK[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mv[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[K[K[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[C[?25l([?12l[?25h[?12;25h[C[K[C[?25l*[?12l[?25h[?12;25h[?25l[1m[34mt[0m[39;49m[15;5Hfree[14;23H[?12l[?25h[?12;25h[?25l[1m[34me[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mm[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mp[0m[39;49m[?12l[?25h[?12;25h[C[K[K[K[K[K[15;5H[?25l[32mfree[39;49m[14;21H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[?25lstruc[K[?12l[?25h[?12;25h[K[K[K[K[K[14;5H[1;33r[14;1H[1M[1;35r[33;1H[?25l  }[K[34;36H[7m4[0m[39;49m[27m[13;65H[?12l[?25h[?12;25h[14;5H[?25lfree[13;65H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;25H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;36H[?12l[?25h[?12;25h[34d[?25l[7m7[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[16;4H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[16;4H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m8[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[33;4H[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[18;1H[?25l  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;4H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;4H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[34;36H[?25l[7m7[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;30H[?12l[?25h[?12;25h
[K
[?25l  [1m[36mreturn[0m[39;49m 0;
}[34;6H[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Bot L77[0m[39;49m[27m[30;3H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lK[?12l[?25h[?12;25h[K[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[?25lV[?12l[?25h[?12;25h[?25la[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h	[?25l[46m([39;49mkeyValues)[?12l[?25h[?12;25h	[?25l(keyValues);[?12l[?25h[?12;25h




[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[30;19H[?12l[?25h[?12;25h




[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[30;19H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[30;19H[?12l[?25h[?12;25h




[K[30;19H




[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-programmake[K memcheck
valgrind ./bug-program
==7908== Memcheck, a memory error detector
==7908== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==7908== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==7908== Command: ./bug-program
==7908== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==7908== Invalid read of size 8
==7908==    at 0x109365: free_key_values (bug-program.c:44)
==7908==    by 0x109365: main (bug-program.c:76)
==7908==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==7908==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7908==    by 0x109364: free_key_values (bug-program.c:46)
==7908==    by 0x109364: main (bug-program.c:76)
==7908==  Block was alloc'd at
==7908==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7908==    by 0x1092D3: add_key_value (bug-program.c:21)
==7908==    by 0x1092D3: make_key_values (bug-program.c:63)
==7908==    by 0x1092D3: main (bug-program.c:72)
==7908== 
==7908== Invalid free() / delete / delete[] / realloc()
==7908==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7908==    by 0x109375: main (bug-program.c:77)
==7908==  Address 0x4a3ff60 is 0 bytes inside a block of size 24 free'd
==7908==    at 0x48369AB: free (vg_replace_malloc.c:530)
==7908==    by 0x109364: free_key_values (bug-program.c:46)
==7908==    by 0x109364: main (bug-program.c:76)
==7908==  Block was alloc'd at
==7908==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==7908==    by 0x1092D3: add_key_value (bug-program.c:21)
==7908==    by 0x1092D3: make_key_values (bug-program.c:63)
==7908==    by 0x1092D3: main (bug-program.c:72)
==7908== 
==7908== 
==7908== HEAP SUMMARY:
==7908==     in use at exit: 0 bytes in 0 blocks
==7908==   total heap usage: 47 allocs, 48 frees, 1,699 bytes allocated
==7908== 
==7908== All heap blocks were freed -- no leaks are possible
==7908== 
==7908== For counts of detected and suppressed errors, rerun with: -v
==7908== ERROR SUMMARY: 24 errors from 2 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[18;1H[?25l  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  free(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m7[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C		[C[C[?25l\[34;6H[7m**[0m[39;49m[27m[30;20H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[K[K[K[K[K




[?25lAuto-saving...[30;6H[?12l[?25h[?12;25h[35;15H[?25ldone[30;6H[?12l[?25h[?12;25h




[K[30;5H[K[K[K[C[C[C[C[?25l[1m[36mreturn[0m[39;49m 0;
}[K
[K[34;36H[7m6[0m[39;49m[27m[29;30H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[29;30H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[29;30H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[29;30H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[28;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;30H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;13H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[23;4H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[22;30H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;30H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;29H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;5H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;30H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;30H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;30H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;25H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;24H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;25H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;30H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[3;30H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[3;1H[17L[1;35r[2;3H[?25lstrcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K[34;30H[7m41% L48[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;25H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;30H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;30H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;12H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;30H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;13H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;30H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;30H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[2;30H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K[34;30H[7m20% L31[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;13H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;15H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;23H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;30H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;30H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;30H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;30H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;30H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;25H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[2;21H[?12l[?25h[?12;25h[1;33r[2;1H[14L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A[34;30H[7mTop L14[0m[39;49m[27m[15;30H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;30H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;30H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;30H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;18H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;30H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;20H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;20H[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[3;19H[?12l[?25h[?12;25h[34;35H[?25l[7m1[0m[39;49m[27m[2;19H[?12l[?25h[?12;25h[35;1H[?25lBeginning of buffer[2;19H[?12l[?25h[?12;25h[35;1H[K[34;35H[?25l[7m2[0m[39;49m[27m[3;19H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;20H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;20H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;30H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;18H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;30H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;30H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;30H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;30H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;21H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;25H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;30H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;30H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;30H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[?25l + 1);[K[34;6H[7m**[0m[39;49m[27m[24;29H[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K			[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25l + 1);[K[?12l[?25h[?12;25h[?25ls + 1);[?12l[?25h[?12;25h[?25li + 1);[?12l[?25h[?12;25h[?25lz + 1);[?12l[?25h[?12;25h[?25le + 1);			[?12l[?25h[?12;25h[?25lo + 1);[?12l[?25h[?12;25h[?25l[1m[36msizeof[0m[39;49m + 1);[?12l[?25h[?12;25h[?25l( + 1);[?12l[?25h[?12;25h[?25lk + 1);[?12l[?25h[?12;25h[?25l[46m([39;49mk) + 1);[?12l[?25h[?12;25h[?25l(	[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[24;30H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[24;30H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[24;30H[?12l[?25h[?12;25h[35;1H[K[24;30H[35;1H[?25lMark set[24;30H[?12l[?25h[?12;25h[35;1H[?25lMark set[K[H[7mFile Edit Options Buffers Tools Field Message Text Attachments Help                                 [0m[39;49m[27m
[A
[36mTo:[39;49m[1m[34m [0m[39;49m[K
[36mSubject:[39;49m[1m[34m [0m[39;49m[K
[36mFrom:[39;49m [36mThomas Hur <thur1@cs.binghamton.edu>[39;49m[K
[31m--text follows this line--[39;49m[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*unsent mail*[0m[39;49m[27m[7m   All L1     (Message MML Abbrev Fill) ----------------------------------[0m[39;49m[27m
[A[2;5H[?12l[?25h[?12;25h[35;1H[K[2;5H[35;1H[?25lC-c C-x C-c is undefined[2;5H[?12l[?25h[?12;25h[35;1H[K[2;5H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mamk[K[Kke [K[K[K[K[K./bu-[Kg-po[Krogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==8149== Memcheck, a memory error detector
==8149== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==8149== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8149== Command: ./bug-program
==8149== 
==8149== Invalid write of size 1
==8149==    at 0x4838DD7: strcpy (vg_replace_strmem.c:512)
==8149==    by 0x1092F8: add_key_value (bug-program.c:32)
==8149==    by 0x1092F8: make_key_values (bug-program.c:63)
==8149==    by 0x1092F8: main (bug-program.c:72)
==8149==  Address 0x4a3fc59 is 0 bytes after a block of size 9 alloc'd
==8149==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==8149==    by 0x1092E0: add_key_value (bug-program.c:23)
==8149==    by 0x1092E0: make_key_values (bug-program.c:63)
==8149==    by 0x1092E0: main (bug-program.c:72)
==8149== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
==8149== Invalid read of size 1
==8149==    at 0x4838C74: strlen (vg_replace_strmem.c:460)
==8149==    by 0x48CC9EE: vfprintf (vfprintf.c:1638)
==8149==    by 0x48D3605: printf (printf.c:33)
==8149==    by 0x10932D: main (bug-program.c:74)
==8149==  Address 0x4a3fc59 is 0 bytes after a block of size 9 alloc'd
==8149==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==8149==    by 0x1092E0: add_key_value (bug-program.c:23)
==8149==    by 0x1092E0: make_key_values (bug-program.c:63)
==8149==    by 0x1092E0: main (bug-program.c:72)
==8149== 
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==8149== Invalid read of size 8
==8149==    at 0x109347: free_key_values (bug-program.c:44)
==8149==    by 0x109347: main (bug-program.c:76)
==8149==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==8149==    at 0x48369AB: free (vg_replace_malloc.c:530)
==8149==    by 0x109346: free_key_values (bug-program.c:46)
==8149==    by 0x109346: main (bug-program.c:76)
==8149==  Block was alloc'd at
==8149==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==8149==    by 0x1092D3: add_key_value (bug-program.c:21)
==8149==    by 0x1092D3: make_key_values (bug-program.c:63)
==8149==    by 0x1092D3: main (bug-program.c:72)
==8149== 
==8149== 
==8149== HEAP SUMMARY:
==8149==     in use at exit: 0 bytes in 0 blocks
==8149==   total heap usage: 47 allocs, 47 frees, 1,783 bytes allocated
==8149== 
==8149== All heap blocks were freed -- no leaks are possible
==8149== 
==8149== For counts of detected and suppressed errors, rerun with: -v
==8149== ERROR SUMMARY: 25 errors from 3 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc([1m[36msizeof[0m[39;49m(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m6[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;2H[?12l[?25h[?12;25h[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[?25lsizeo[1P[34;6H[7m**[0m[39;49m[27m[24;26H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25lk) + 1);[K[24;20H[?12l[?25h[?12;25h[C[?25l(k) + 1);[24;21H[?12l[?25h[?12;25h[?25l[1@s[?12l[?25h[?12;25h[?25l[1@t[?12l[?25h[?12;25h[?25l[1@r[?12l[?25h[?12;25h[?25l[1@l[?12l[?25h[?12;25h[?25l[1@e[?12l[?25h[?12;25h[?25l[1@n[?12l[?25h[?12;25h[C[?25l(k) + 1);[24;28H[?12l[?25h[?12;25h[?25lk) + 1);[K[24;27H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[35d[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[25;1H[?12l[?25h[?12;25h[35d[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[25;1H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[35d[K[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[35d[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs Makefil[K[K[K[K[K[K[K[K[K[K[K[K[Kemacs bug-program.c[6Pmake memcheckemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lBeginning of buffer[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[18;1H[?25l  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[C[C[C[34;36H[?25l[7m3[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[3;1H[17L[1;35r[2;3H[?25lstrcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K
[K[34;30H[7m41% L48[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;4H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K[34;30H[7m20% L31[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;4H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[1;33r[2;1H[14L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A[34;30H[7mTop L14[0m[39;49m[27m[15;4H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;4H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;4H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;4H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;4H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;4H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;4H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;4H[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;35H[?25l[7m1[0m[39;49m[27m[2;4H[?12l[?25h[?12;25h[35;1H[?25lBeginning of buffer[2;4H[?12l[?25h[?12;25h[35;1H[K[2;4H[35;1H[?25lC-c C-x C-c is undefined[2;4H[?12l[?25h[?12;25h[35;1H[K[2;4H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mame[K[Kke memcheck
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
valgrind ./bug-program
==8454== Memcheck, a memory error detector
==8454== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==8454== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==8454== Command: ./bug-program
==8454== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==8454== Invalid read of size 8
==8454==    at 0x109359: free_key_values (bug-program.c:44)
==8454==    by 0x109359: main (bug-program.c:76)
==8454==  Address 0x4a3ff70 is 16 bytes inside a block of size 24 free'd
==8454==    at 0x48369AB: free (vg_replace_malloc.c:530)
==8454==    by 0x109358: free_key_values (bug-program.c:46)
==8454==    by 0x109358: main (bug-program.c:76)
==8454==  Block was alloc'd at
==8454==    at 0x483577F: malloc (vg_replace_malloc.c:299)
==8454==    by 0x1092D3: add_key_value (bug-program.c:21)
==8454==    by 0x1092D3: make_key_values (bug-program.c:63)
==8454==    by 0x1092D3: main (bug-program.c:72)
==8454== 
==8454== 
==8454== HEAP SUMMARY:
==8454==     in use at exit: 0 bytes in 0 blocks
==8454==   total heap usage: 47 allocs, 47 frees, 1,699 bytes allocated
==8454== 
==8454== All heap blocks were freed -- no leaks are possible
==8454== 
==8454== For counts of detected and suppressed errors, rerun with: -v
==8454== ERROR SUMMARY: 23 errors from 1 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ emacs v[Kma[K[Kbug-prorgra[K[K[K[K[Kgram[K[K[K[Kogram.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L1     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[K[34;35H[?25l[7m2[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[K
[?25l[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m0[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[13;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[13;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[?25l) {[K[34;6H[7m**[0m[39;49m[27m[13;61H[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[34;31H[7m5[0m[39;49m[27m[13;51H[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[?25l) {[K[?12l[?25h[?12;25h[C[C[C[1;33r[14;1H[1L[1;35r[14;1H[K[34;31H[?25l[7m4% L45[0m[39;49m[27m[14;5H[?12l[?25h[?12;25h[?25lp
[32mfree[39;49m[A[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h	[?25lp
free[A[C[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[14;17H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[14;17H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[14;17H[?12l[?25h[?12;25h[35;1H[K[14;17H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:44:49:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K;[m[Kâ€™ before â€˜[01m[K)[m[Kâ€™ token
   for (struct KeyValue *p = keyValues; p != NULL[01;31m[K)[m[K {
                                                 [01;31m[K^[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m) {[K
    p = p->succ;[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;4H[?12l[?25h[?12;25h[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[?25l;) {[34;6H[7m**[0m[39;49m[27m[29;50H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[29;50H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[29;50H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[29;50H[?12l[?25h[?12;25h[35;1H[K[29;50H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-prorgam
bash: ./bug-prorgam: No such file or directory
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-prorgam[K[K[K[K[Kogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
Segmentation fault
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make mem[K[K[K[K[K[K[K[K./bug-program[K./bug-programrgammake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    p = p->succ;[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    p = p->succ;[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p); [31m//free KeyValue struct                                                                 [39;49m
[A
  }[K[34;30H[7m41% L48[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[C[C[C[C[C	[34;36H[?25l[7m5[0m[39;49m[27m[15;8H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;8H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;8H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;8H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;8H[?12l[?25h[?12;25h	[C[C[C[C[C[C		[K[34;6H[?25l[7m**[0m[39;49m[27m[15;16H[?12l[?25h[?12;25h[K[K[K[K[C[C[1;33r[15;1H[1M[1;35r[33;1H[?25l    p = add_key_value(p, keys[i], i);[K
[7m4[0m[39;49m[27m[14;53H[?12l[?25h[?12;25h[1;33r[15;1H[1L[1;35r[15;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[15;5H[?12l[?25h[?12;25h[?25lp
[32mfree[39;49m[A[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h	[?25lp
free[A[C[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[K[K[K[K[K[K[K	[K
[?25l[32mfree[39;49m[A[?12l[?25h[?12;25h[K[15;5H[?25lt[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h[C[?25lm[16;5Hfree[15;13H[?12l[?25h[?12;25h[?25la[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25ll[?12l[?25h[?12;25h[?25lo[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25ls[16;5H[32mfree[39;49m[15;20H[?12l[?25h[?12;25h[?25li[?12l[?25h[?12;25h[?25lz[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lo[?12l[?25h[?12;25h[?25l[1m[36msizeof[0m[39;49m[?12l[?25h[?12;25h[16;5H[?25lfree[A		[?12l[?25h[?12;25h[?25l*[?12l[?25h[?12;25h[K[?25l([?12l[?25h[?12;25h[?25ls[16;5H[32mfree[39;49m[15;27H[?12l[?25h[?12;25h[?25lt[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h	[26;15H[?25lkeys[15;33H[?12l[?25h[?12;25h[?25l[32mK[39;49m[34;31H[7m0[0m[39;49m[27m[15;34H[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h			[?25l[46m([39;49m[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m)[?12l[?25h[?12;25h[15;18H[?25l[46m([39;49m[1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m))[?12l[?25h[?12;25h[15;18H[?25l([34;36H[7m4[0m[39;49m[27m[14;43H[?12l[?25h[?12;25h[C[C[C[C[16;5H[?25lfree[26;15H[33mkeys[39;49m[14;47H[?12l[?25h[?12;25h		[C[C[C[C[1;33r[15;1H[1L[1;35r[15;1H[K[34;36H[?25l[7m5[0m[39;49m[27m[15;5H[?12l[?25h[?12;25h[?25l[32ms[39;49m
[33mtemp[39;49m[A[?12l[?25h[?12;25h[?25l[32mt[39;49m[?12l[?25h[?12;25h[?25l[32mr[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32mc[39;49m[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h[C[16;5H[?25l[32mtemp[39;49m[15;12H[?12l[?25h[?12;25h[?25l[32mK[39;49m[16;5H[33mtemp[39;49m[15;13H[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[C[?25l*[?12l[?25h[?12;25h[C[?25l[33mt[39;49m[16;5Htemp[A		[?12l[?25h[?12;25h[?25l[33me[39;49m[?12l[?25h[?12;25h[?25l[33mm[39;49m[?12l[?25h[?12;25h[?25l[33mp[39;49m[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h[C[?25lp[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;32H[?12l[?25h[?12;25h	[C[C[C[C[C[C		[C[C[1;33r[17;1H[1L[1;35r[17;1H[K[34;36H[?25l[7m7[0m[39;49m[27m[17;7H[?12l[?25h[?12;25h[?25lt
[32mfree[39;49m[A[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25l[32mtemp[39;49m[?12l[?25h[?12;25h[?25ltem[K[?12l[?25h[?12;25h[K[K[K	[1;33r[17;1H[1M[1;35r[33;1H[?25l  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K[34;36H[7m6[0m[39;49m[27m[16;43H[?12l[?25h[?12;25h[17;5H[?25lfree[16;43H[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[1;33r[17;1H[1L[1;35r[17;1H[K[34;36H[?25l[7m7[0m[39;49m[27m[17;5H[?12l[?25h[?12;25h[?25lt
[32mfree[39;49m[A[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[18;5Hfree[17;12H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[C[?25l=[34;30H[7m39[0m[39;49m[27m[17;16H[?12l[?25h[?12;25h	[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[1;33r[18;1H[1L[1;35r[18;1H[K[34;36H[?25l[7m8[0m[39;49m[27m[18;5H[?12l[?25h[?12;25h[?25lf
[32mfree[39;49m[A[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l[32mfree[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h[?25lv[?12l[?25h[?12;25h[?25lo[?12l[?25h[?12;25h[?25li[?12l[?25h[?12;25h[?25l[32mvoid[39;49m[?12l[?25h[?12;25h[?25l*[?12l[?25h[?12;25h	[?25l[46m([39;49m[32mvoid[39;49m*)[?12l[?25h[?12;25h	[?25l([32mvoid[39;49m*)o[?12l[?25h[?12;25h[K[?25lt[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[?25l_[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[K[K[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[19;5Hfree[18;23H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[35;1H[?25lMismatched parentheses[18;25H[?12l[?25h[?12;25h[?25l)[?12l[?25h[?12;25h[35;1H[K[18;26H[?25l;[?12l[?25h[?12;25h[1;33r[19;1H[1L[1;35r[19;1H[K[34;36H[?25l[7m9[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[1;33r[19;1H[1M[1;35r[33;1H[?25l    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[34;36H[7m8[0m[39;49m[27m[18;27H[?12l[?25h[?12;25h[K[35;1H[?25lAuto-saving...[18;26H[?12l[?25h[?12;25h[35;15H[?25ldone[18;26H[?12l[?25h[?12;25h[35;1H[?25lMismatched parentheses[18;26H[?12l[?25h[?12;25h[?25l)[?12l[?25h[?12;25h[35;1H[K[18;26H[K[K[K[35;1H[?25lMismatched parentheses[18;24H[?12l[?25h[?12;25h[?25l)[?12l[?25h[?12;25h[35;1H[K[18;24H[K[K[K[K[K[19;5H[?25l[32mfree[39;49m[18;20H[?12l[?25h[?12;25h[K[K[K[K[19;5H[?25lfree[A	[?12l[?25h[?12;25h[?25lt[19;5H[32mfree[39;49m[A	[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[19;5Hfree[18;23H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[K[35;1H[?25lMismatched parentheses[18;25H[?12l[?25h[?12;25h[?25l)[?12l[?25h[?12;25h[35;1H[K[18;26H[?25l;[?12l[?25h[?12;25h[1;33r[19;1H[1L[1;35r[19;1H[K[34;36H[?25l[7m9[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[1;33r[19;1H[1M[1;35r[33;1H[?25l    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[34;36H[7m8[0m[39;49m[27m[18;27H[?12l[?25h[?12;25h[K[K[?25l;[?12l[?25h[?12;25h[1;33r[19;1H[1L[1;35r[19;1H[K[34;36H[?25l[7m9[0m[39;49m[27m[19;5H[?12l[?25h[?12;25h[?25lf
[32mfree[39;49m[A[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l[32mfree[39;49m[?12l[?25h[?12;25h[?25lfree([?12l[?25h[?12;25h
[?25lfree[A[C[?12l[?25h[?12;25h[?25lt[20;5H[32mfree[39;49m[19;11H[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lm[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h	[?25l[46m([39;49mtemp)[?12l[?25h[?12;25h	[?25l(temp);[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[20;16H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[21;16H[?12l[?25h[?12;25h	[20;5H[?25lfree
	[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l[31m [39;49m[?12l[?25h[?12;25h[?25l/[K[?12l[?25h[?12;25h[K[C[K[K[K[K[K[K[21;5H[1;33r[21;1H[1M[1;35r[33;1H[?25l    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[34;36H[7m0[0m[39;49m[27m[20;25H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[?25lvoi[K[?12l[?25h[?12;25h[K[K[K[34;30H[?25l[7m40[0m[39;49m[27m[20;11H[?12l[?25h[?12;25h[K[K[K[K[K[K[20;5H[1;33r[20;1H[1M[1;35r[33;1H[?25l  };[K[34;35H[7m49[0m[39;49m[27m[19;16H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;16H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;16H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[19;16H[?12l[?25h[?12;25h[35;1H[K[19;16H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:47:17:[m[K [01;31m[Kerror: [m[Kexpected expression before â€˜[01m[K->[m[Kâ€™ token
     temp->key = [01;31m[K->[m[Kkey;
                 [01;31m[K^~[m[K
[01m[Kbug-program.c:48:10:[m[K [01;31m[Kerror: [m[Kexpected expression before â€˜[01m[Kvoid[m[Kâ€™
     free([01;31m[Kvoid[m[K*)temp->key;
          [01;31m[K^~~~[m[K
[01m[Kbug-program.c:48:16:[m[K [01;31m[Kerror: [m[Kexpected â€˜[01m[K;[m[Kâ€™ before â€˜[01m[Ktemp[m[Kâ€™
     free(void*)[01;31m[Kt[m[K[32m[Kemp[m[K->key;
                [01;31m[K^[m[K[32m[K~~~[m[K
                [32m[K;[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K
    temp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
    temp->key = ->key;[K
    free([32mvoid[39;49m*)temp->key;[K[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l    free(temp);[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
[C[7m43% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[C[C[34;36H[?25l[7m4[0m[39;49m[27m[23;3H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;3H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;3H[?12l[?25h[?12;25h[C[C[C[C		[C[?25l[1@([34;6H[7m**[0m[39;49m[27m[17;11H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C	[?25l[46m([39;49m([32mvoid[39;49m*)temp->key);[?12l[?25h[?12;25h	[?25l([17;27H[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[17;27H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[17;27H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[17;27H[?12l[?25h[?12;25h[35;1H[K[17;27H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:47:17:[m[K [01;31m[Kerror: [m[Kexpected expression before â€˜[01m[K->[m[Kâ€™ token
     temp->key = [01;31m[K->[m[Kkey;
                 [01;31m[K^~[m[K
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K
    temp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
    temp->key = ->key;[K
    free(([32mvoid[39;49m*)temp->key);[K[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m3[0m[39;49m[27m[28;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m7[0m[39;49m[27m[32;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[C[?25lp->key;[34;6H[7m**[0m[39;49m[27m[32;18H[?12l[?25h[?12;25h


[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[32;18H[?12l[?25h[?12;25h


[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[32;18H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[32;18H[?12l[?25h[?12;25h


[K[32;18H


[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make [K[K[K[K[K./bug-po[Kror[Kgram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ma[K[K./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K
    temp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
    temp->key = p->key;[K
    free(([32mvoid[39;49m*)temp->key);[K[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l    free(temp);[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
[C[7m43% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C	[1;33r[19;1H[1L[1;35r[19;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   43% L50[0m[39;49m[27m[19;5H[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[C[?25l=[?12l[?25h[?12;25h	[?25lp[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[19;17H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[19;17H[?12l[?25h[?12;25h[35;1H[K[19;17H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ake
bash: ake: command not found
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mak[K[K[K./bug-prgr[K[Kogram
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==9719== Memcheck, a memory error detector
==9719== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==9719== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==9719== Command: ./bug-program
==9719== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==9719== 
==9719== HEAP SUMMARY:
==9719==     in use at exit: 552 bytes in 23 blocks
==9719==   total heap usage: 47 allocs, 24 frees, 1,699 bytes allocated
==9719== 
==9719== LEAK SUMMARY:
==9719==    definitely lost: 24 bytes in 1 blocks
==9719==    indirectly lost: 528 bytes in 22 blocks
==9719==      possibly lost: 0 bytes in 0 blocks
==9719==    still reachable: 0 bytes in 0 blocks
==9719==         suppressed: 0 bytes in 0 blocks
==9719== Rerun with --leak-check=full to see details of leaked memory
==9719== 
==9719== For counts of detected and suppressed errors, rerun with: -v
==9719== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ma[K[Kmake memcheck./bug-programmake[K[1Pakeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K
    temp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
    temp->key = p->key;[K
    free(([32mvoid[39;49m*)temp->key);[K[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l    free(temp);[K
    p = p->succ;[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K[34;30H[7m43% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m4[0m[39;49m[27m[23;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;2H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[C[C[C[C[C	[C[C[C[C[C[C[?25l[1P[34;6H[7m**[0m[39;49m[27m[17;14H[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1P[?12l[?25h[?12;25h[?25l[1@[32mc[39;49m[?12l[?25h[?12;25h[?25l[1@[32mh[39;49m[?12l[?25h[?12;25h[?25l[1@[32ma[39;49m[?12l[?25h[?12;25h[?25l[1@[32mr[39;49m[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[17;15H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[17;15H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[17;15H[?12l[?25h[?12;25h[35;1H[K[17;15H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make mec[Kmcheck
valgrind ./bug-program
==9975== Memcheck, a memory error detector
==9975== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==9975== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==9975== Command: ./bug-program
==9975== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==9975== 
==9975== HEAP SUMMARY:
==9975==     in use at exit: 552 bytes in 23 blocks
==9975==   total heap usage: 47 allocs, 24 frees, 1,699 bytes allocated
==9975== 
==9975== LEAK SUMMARY:
==9975==    definitely lost: 24 bytes in 1 blocks
==9975==    indirectly lost: 528 bytes in 22 blocks
==9975==      possibly lost: 0 bytes in 0 blocks
==9975==    still reachable: 0 bytes in 0 blocks
==9975==         suppressed: 0 bytes in 0 blocks
==9975== Rerun with --leak-check=full to see details of leaked memory
==9975== 
==9975== For counts of detected and suppressed errors, rerun with: -v
==9975== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K
    temp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
    temp->key = p->key;[K
    free(([32mchar[39;49m*)temp->key);[K[34;30H[7m20% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l    free(temp);[K
    p = p->succ;[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K[34;30H[7m43% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K
    p = add_key_value(p, keys[i], i);[K
  }[K
  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
[7m60% L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;35H[?25l[7m80[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[?25l  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K[34;30H[7mBot L81[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[35d[?25lEnd of buffer[20;1H[?12l[?25h[?12;25h[35d[K[34;36H[?25l[7m2[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;35H[?25l[7m79[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l    free(([32mchar[39;49m*)temp->key);[K
    free(temp);[K
    p = p->succ;[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K[34;30H[7m59% L64[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m1[0m[39;49m[27m[15;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[13;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[11;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[10;2H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[9;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[8;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[5;2H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[4;2H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[3;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[2;2H[?12l[?25h[?12;25h[C[?25l}[K
strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[K[5;3H[31m//initialize fields of *kv.                                                                       [39;49m
  kv->key = s; kv->value = v; kv->succ = keyValues;[7;3H[1m[36mreturn[0m[39;49m kv;
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m
	[32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)
{[K
[C[31m//go thru chain of keyValues                                                                      [39;49m
[C[C[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K[16;5H[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mtemp[39;49m = p;[K[17;5Htemp = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K[18;3H  temp->key = p->key;[19;3H  free(([32mchar[39;49m*)temp->key);[K[20;3H  free(temp);[K
	p->succ;[K

}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[31m *  Jabberwocky with value being the index of the word.                [39;49m[27;3H[31m/[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[30;3H[1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K[31;3H  [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K[32;5H[32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[33;3H  [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[34;30H[7m39% L47[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m8[0m[39;49m[27m[19;3H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;3H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[21;3H[?12l[?25h[?12;25h[C[C[C[C		[C[C[C[C[C[C		[K[34;6H[?25l[7m**[0m[39;49m[27m[21;16H[?12l[?25h[?12;25h[K[K[K[K[K[K[K	[K[C[K[21;5H[1;33r[21;1H[1M[1;35r[33;1H[?25l    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[34;35H[7m49[0m[39;49m[27m[20;16H[?12l[?25h[?12;25h[K[34;30H[?25l[7m40[0m[39;49m[27m[20;14H[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[20;5H[1;33r[20;1H[1M[1;35r[33;1H[?25l  };[K[34;36H[7m8[0m[39;49m[27m[19;28H[?12l[?25h[?12;25h[K[K		[K[K[C[C[1;33r[19;1H[1M[1;35r[33;1H[?25l  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K[34;36H[7m7[0m[39;49m[27m[18;24H[?12l[?25h[?12;25h[K[K[K[K[K[K[K	[K[C[K[K[K[K[K[K[34;31H[?25l[7m1[0m[39;49m[27m[18;8H[?12l[?25h[?12;25h[K[K[K[18;5H[1;33r[18;1H[1M[1;35r[33;1H[?25l  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K[34;36H[7m6[0m[39;49m[27m[17;44H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[17;44H[?12l[?25h[?12;25h[35;15H[?25ldone[17;44H[?12l[?25h[?12;25h[35;1H[K[17;42H[K[K[K[K[K[K[K[K[K	[?25lstruc[K[?12l[?25h[?12;25h[K[K[K[K[K[?25lsizeo[K[?12l[?25h[?12;25h[K[K[K[K[K[K[K[K[K[K[K[K[C[K[C[K[K[K[17;5H[1;33r[17;1H[1M[1;35r[33;1H[?25l    p = add_key_value(p, keys[i], i);[K
[7m5[0m[39;49m[27m[16;32H[?12l[?25h[?12;25h[K[K[C[34;31H[?25l[7m2[0m[39;49m[27m[16;29H[?12l[?25h[?12;25h[K[C[K[K[K[K[C[K[C[K[K[K[K[K[K[K[C[?25lstruc[K[?12l[?25h[?12;25h[K[K[K[K[K[16;5H[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[K[?25l([?12l[?25h[?12;25h[?25lv[?12l[?25h[?12;25h[?25lo[?12l[?25h[?12;25h[?25li[?12l[?25h[?12;25h[?25l[32mvoid[39;49m[?12l[?25h[?12;25h[?25l*[?12l[?25h[?12;25h[?25l[46m([39;49m[32mvoid[39;49m*)[?12l[?25h[?12;25h[?25l([32mvoid[39;49m*)p[?12l[?25h[?12;25h[?25l-[?12l[?25h[?12;25h[?25l>[?12l[?25h[?12;25h[?25lk[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25ly[?12l[?25h[?12;25h	[?25l[46m([39;49m([32mvoid[39;49m*)p->key)[?12l[?25h[?12;25h	[?25l(([32mvoid[39;49m*)p->key);[?12l[?25h[?12;25h[1;33r[17;1H[1L[1;35r[17;1H[K[34;31H[?25l[7m1% L46[0m[39;49m[27m[17;5H[?12l[?25h[?12;25h[?25lf[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25l([?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[K[?25lp[?12l[?25h[?12;25h[K[?25lp[?12l[?25h[?12;25h[?25l[46m([39;49mp)[?12l[?25h[?12;25h	[?25l(p);[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[17;13H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[17;13H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[17;13H[?12l[?25h[?12;25h[35;1H[K[17;13H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./b[Kbug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
free(): double free detected in tcache 2
Aborted
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ ./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p);[K
  }[K
}[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[2d[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
  kv->key = s; kv->value = v; kv->succ = keyValues;[5;3H[1m[36mreturn[0m[39;49m kv;[K
}[K

[31m/** Free all the key-value's in keyValues. */[39;49m
[1m[36mstatic[0m[39;49m [32mvoid[39;49m
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
[C[2P[12;5H[31mgo thru chain of keyValues  [39;49m[2@[31m  [39;49m[13;3H[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K[14;5Hfree(([32mvoid[39;49m*)p->key);[K[15;5Hfree(p

}[K

[2P[C[31m** Make key-values for all the words in the first verse of Carroll[39;49m[2@[31m's[39;49m
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[28;3H  [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[29;3H};[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[31;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[32;3H  p = add_key_value(p, keys[i], i);
[2@[34;30H[7m45% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[18;1H[?25l  [1m[36mreturn[0m[39;49m p;[K
}[K
[K
[31m/** Print out all the words in the first verse of Carroll's Jabberwocky                             [39;49m
[A
[31m *  paired with their index in the verse.                                                           [39;49m
[A
[31m */[39;49m[K
[32mint[39;49m [1m[34mmain[0m[39;49m() {[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m = make_key_values();[K
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m; p = p->succ) {[K
    printf([32m"%s: %d\n"[39;49m, p->key, p->value);[K
  }[K
  free_key_values(keyValues);[K
  [1m[36mreturn[0m[39;49m 0;[K
}[K
[K
[K[34;30H[7mBot L65[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;35H[?25l[7m70[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;35H[?25l[7m69[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[H
[?12l[?25h[?12;25h[1;33r[3;1H[17L[1;35r[2;3H[?25lstrcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[K
  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    free(([32mvoid[39;49m*)p->key);[K
    free(p);[K
  }[K
}[K
[K[34;30H[7m42% L48[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[C[C[C[C[C		[C[34;36H[?25l[7m5[0m[39;49m[27m[15;25H[?12l[?25h[?12;25h[1;33r[16;1H[1L[1;35r[16;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   41% L46[0m[39;49m[27m[16;5H[?12l[?25h[?12;25h[?25l[32ms[39;49m
[1m[34mfree[0m[39;49m[A[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32mc[39;49m[?12l[?25h[?12;25h[?25l[32mc[39;49m[?12l[?25h[?12;25h[C[?25lsucc =[?12l[?25h[?12;25h[C[17;5H[?25lfree[16;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[16;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[14;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[13;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[11;12H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[10;12H[?12l[?25h[?12;25h[34;35H[?25l[7m39[0m[39;49m[27m[9;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[7;2H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[6;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[5;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[4;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[H

[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[2;12H[?12l[?25h[?12;25h[1;33r[2;1H[17L[1;35r[2;1H[?25l[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K[34;30H[7m20% L31[0m[39;49m[27m[18;4H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[17;12H[?12l[?25h[?12;25h[34;35H[?25l[7m29[0m[39;49m[27m[16;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[14;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[13;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[12;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[10;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[8;12H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[7;12H[?12l[?25h[?12;25h[34;35H[?25l[7m19[0m[39;49m[27m[6;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[5;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[4;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[3;4H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[2;12H[?12l[?25h[?12;25h[1;33r[2;1H[14L[1;35r[2;1H[?25l[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A[34;30H[7mTop L14[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[15;12H[?12l[?25h[?12;25h[35;15H[?25ldone[15;12H[?12l[?25h[?12;25h[35;1H[K[34;36H[?25l[7m3[0m[39;49m[27m[14;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[11;12H[?12l[?25h[?12;25h[34;35H[?25l[7m9 [0m[39;49m[27m[10;12H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;12H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;12H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;12H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;12H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;12H[?12l[?25h[?12;25h[34;35H[?25l[7m2[0m[39;49m[27m[3;12H[?12l[?25h[?12;25h[34;35H[?25l[7m1[0m[39;49m[27m[2;12H[?12l[?25h[?12;25h[35;1H[?25lBeginning of buffer[2;12H[?12l[?25h[?12;25h[35;1H[K[34;35H[?25l[7m2[0m[39;49m[27m[3;12H[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;12H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;12H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;12H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;12H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;12H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;12H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;2H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;12H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[33;12H[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    free(([32mvoid[39;49m*)p->key);[K
    succ =[K
    free(p);[K
  }[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;12H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;12H[?12l[?25h[?12;25h[H
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)
{[K
[C[31m//go thru chain of keyValues                                                                      [39;49m
[C[C[1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K[13;5Hfree(([32mvoid[39;49m*)p->key);[K[14;5Hsucc =[K[15;5Hfree(p

}[K

[2P[C[31m** Make key-values for all the words in the first verse of Carroll[39;49m[2@[31m's[39;49m
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[28;3H  [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K[29;3H};[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[31;3H[1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[32;5Hp = add_key_value(p, keys[i], i);[34;30H[7m45% L50[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[20;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[21;4H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[22;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[24;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[27;12H[?12l[?25h[?12;25h[34;35H[?25l[7m60[0m[39;49m[27m[28;12H[?12l[?25h[?12;25h[34;35H[?25l[7m59[0m[39;49m[27m[27;12H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[26;12H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[25;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[24;12H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[23;12H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[22;12H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[21;4H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[20;12H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[19;12H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[17;2H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[16;4H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[15;12H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[14;12H[?12l[?25h[?12;25h[?25l[32msucc[39;49m[K
[1m[34mfree[0m[39;49m[A[C[?12l[?25h[?12;25h[K[K[K[K[14;5H[?25l[32mn[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32mx[39;49m[?12l[?25h[?12;25h[?25l[32mt[39;49m[?12l[?25h[?12;25h[C[?25lnext =[?12l[?25h[?12;25h[C[?25l-[?12l[?25h[?12;25h[15;5H[?25lfree[14;13H[?12l[?25h[?12;25h[K[C[?25lo[?12l[?25h[?12;25h[K[C[?25lp[?12l[?25h[?12;25h[?25l->[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[15;13H[?12l[?25h[?12;25h[1;33r[16;1H[1L[1;35r[16;1H[K[34;36H[?25l[7m8[0m[39;49m[27m[16;5H[?12l[?25h[?12;25h[?25lp[?12l[?25h[?12;25h[C[?25l=[34;31H[7m4[0m[39;49m[27m[16;8H[?12l[?25h[?12;25h	[?25ln[?12l[?25h[?12;25h[?25le[?12l[?25h[?12;25h[?25lx[?12l[?25h[?12;25h[35;1H[?25lAuto-saving...[16;12H[?12l[?25h[?12;25h[35;15H[?25ldone[16;12H[?12l[?25h[?12;25h[35;1H[K[16;12H[?25lt[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[16;14H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[16;14H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[16;14H[?12l[?25h[?12;25h[35;1H[K[16;14H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
[01m[Kbug-program.c:[m[K In function â€˜[01m[Kfree_key_values[m[Kâ€™:
[01m[Kbug-program.c:46:5:[m[K [01;31m[Kerror: [m[Kâ€˜[01m[Knext[m[Kâ€™ undeclared (first use in this function); did you mean â€˜[01m[Kexit[m[Kâ€™?
     [01;31m[Knext[m[K = p->succ;
     [01;31m[K^~~~[m[K
     [32m[Kexit[m[K
[01m[Kbug-program.c:46:5:[m[K [01;36m[Knote: [m[Keach undeclared identifier is reported only once for each function it appears in
make: *** [<builtin>: bug-program] Error 1
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ makeemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    free(([32mvoid[39;49m*)p->key);[K
    next = p->succ;[K
    free(p);[K
    p = next;[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
  [1m[36mfor[0m[39;49m ([32mint[39;49m [33mi[39;49m = 0; i < [1m[36msizeof[0m[39;49m(keys)/[1m[36msizeof[0m[39;49m(keys[0]); i++) {[K[34;30H[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m51[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m0[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[C[34;36H[?25l[7m5[0m[39;49m[27m[14;2H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[13;2H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[12;2H[?12l[?25h[?12;25h[C[34;36H[?25l[7m2[0m[39;49m[27m[11;2H[?12l[?25h[?12;25h[1;33r[12;1H[1L[1;35r[12;1H[K[34;6H[?25l[7m**--F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   44% L43[0m[39;49m[27m[12;3H[?12l[?25h[?12;25h[?25ls[?12l[?25h[?12;25h[?25lt[?12l[?25h[?12;25h[?25lr[?12l[?25h[?12;25h[?25lu[?12l[?25h[?12;25h[?25lc[?12l[?25h[?12;25h[?25l[1m[36mstruct[0m[39;49m[?12l[?25h[?12;25h[C[?25l[32mK[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[?25l[32my[39;49m[?12l[?25h[?12;25h[?25l[32mV[39;49m[?12l[?25h[?12;25h[?25l[32ma[39;49m[?12l[?25h[?12;25h[?25l[32ml[39;49m[?12l[?25h[?12;25h[?25l[32mu[39;49m[?12l[?25h[?12;25h[?25l[32me[39;49m[?12l[?25h[?12;25h[C[?25l([?12l[?25h[?12;25h[K[C[?25l*[?12l[?25h[?12;25h[C[?25l[1m[34mn[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34me[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mx[0m[39;49m[?12l[?25h[?12;25h[?25l[1m[34mt[0m[39;49m[?12l[?25h[?12;25h[C[?25l[33mnext[39;49m =[?12l[?25h[?12;25h[C[?25lN[?12l[?25h[?12;25h[?25lU[?12l[?25h[?12;25h[?25lL[?12l[?25h[?12;25h[?25l[35mNULL[39;49m[?12l[?25h[?12;25h[?25l;[?12l[?25h[?12;25h[35;1H[?25lSaving file /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c...[12;33H[?12l[?25h[?12;25h[35;1H[?25lWrote /home/thur1/git-repos/i220a/work/lab6/files/bug-program/bug-program.c[K[12;33H[?12l[?25h[?12;25h[34;6H[?25l[7m--[0m[39;49m[27m[12;33H[?12l[?25h[?12;25h[35;1H[K[12;33H[35;1H[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make
cc -g -Wall -std=c11 -O1    bug-program.c   -o bug-program
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ mak[K[K[K/[K./bug-program
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck
valgrind ./bug-program
==10736== Memcheck, a memory error detector
==10736== Copyright (C) 2002-2017, and GNU GPL'd, by Julian Seward et al.
==10736== Using Valgrind-3.14.0 and LibVEX; rerun with -h for copyright info
==10736== Command: ./bug-program
==10736== 
outgrabe: 22
raths: 21
mome: 20
the: 19
and: 18
borogoves: 17
the: 16
were: 15
mimsy: 14
all: 13
wabe: 12
the: 11
in: 10
gimble: 9
and: 8
gyre: 7
did: 6
toves: 5
slithy: 4
the: 3
and: 2
brillig: 1
twas: 0
==10736== 
==10736== HEAP SUMMARY:
==10736==     in use at exit: 0 bytes in 0 blocks
==10736==   total heap usage: 47 allocs, 47 frees, 1,699 bytes allocated
==10736== 
==10736== All heap blocks were freed -- no leaks are possible
==10736== 
==10736== For counts of detected and suppressed errors, rerun with: -v
==10736== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
thur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ make memcheck./bug-programmake[Kemacs bug-program.c
[?1049h[22;0;0t[?12;25h[?1h=[H[2J[35d[K[?1l>[?12l[?25h[?1049l[23;0;0t[39;49m[?1049h[22;0;0t[?12;25h[?1h=[H[2J[34d[?25l[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Fundamental) -----------------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[35d[?25lLoading /etc/emacs/site-start.d/00debian.el (source)...done[K[H
[?12l[?25h[?12;25h[35;33H[?25l50a2ps.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lsymptote.el (source)...[H
[?12l[?25h[?12;25h[35;59H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lutoconf.el (source)...[K[H
[?12l[?25h[?12;25h[35;58H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lcmake-data.el (source)...[K[H
[?12l[?25h[?12;25h[35;60H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ldictionaries-common.el (source)...[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-default.el (source)...[H
[?12l[?25h[?12;25h[35;77H[?25ldone[H
[?12l[?25h[?12;25h[35;9H[?25ldebian-ispell...done[K[H
[?12l[?25h[?12;25h[35;9H[?25l/var/cache/dictionaries-common/emacsen-ispell-dicts.el (source)...[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50dictionaries-common[6P[H
[?12l[?25h[?12;25h[35;35H[?25lerlang-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;61H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lhaskell-mode.el (source)...[K[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/elpa/haskel[34@l-mode-16.1/haskell-mode-autoloads[H
[?12l[?25h[?12;25h[35;96H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50haskell-mode[34P[H
[?12l[?25h[?12;25h[35;35H[?25llatex-cjk-common.el (source)...[H
[?12l[?25h[?12;25h[35;10H[?25lusr/share/emacs/site-lisp/latex-cjk-commo[9@n/cjk-enc[H
[?12l[?25h[?12;25h[35;75H[?25ldone[H
[?12l[?25h[?12;25h[35;10H[?25letc/emacs/site-start.d/50latex-cjk-common[9P[H
[?12l[?25h[?12;25h[35;45H[?25lthai.el (source)...[K[H
[?12l[?25h[?12;25h[35;64H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25lpsvn.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lython-docutils.el (source)...[H
[?12l[?25h[?12;25h[35;65H[?25ldone[H
[?12l[?25h[?12;25h[35;35H[?25ltcsh.el (source)...[K[H
[?12l[?25h[?12;25h[35;54H[?25ldone[H
[?12l[?25h[?12;25h[35;36H[?25lexlive-lang-english.el (source)...[H
[?12l[?25h[?12;25h[35;70H[?25ldone[H
[?12l[?25h[?12;25h[>0c[35d[?25lLoading /etc/emacs/site-start.d/50texlive-lang-english.el (source)...done[K[H[7mFile Edit Options Buffers Tools Lisp-Interaction Help                                               [0m[39;49m[27m
[A
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[K
[7m-UUU:----F1  [0m[39;49m[27m[7m[1m*scratch*   [0m[39;49m[27m[7m   All L1     (Lisp Interaction ElDoc) ------------------------------------[0m[39;49m[27m
[A[2d[?12l[?25h[?12;25h[?2004h[35d[?25lFor information about GNU Emacs and the GNU system, type C-h C-a.[K[H
[?12l[?25h[?12;25h[35d[K[H[?25l[7mFile Edit Options Buffers Tools C Help                                                              [0m[39;49m[27m
[A
[1m[34m#include[0m[39;49m [32m<errno.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdio.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<stdlib.h>[39;49m[K
[1m[34m#include[0m[39;49m [32m<string.h>[39;49m[K
[K
[31m/** A struct used to form a linear chain of key-value pairs. */[39;49m[K
[1m[36mstruct[0m[39;49m [32mKeyValue[39;49m {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkey[39;49m;       [31m/** string key */[39;49m[K
  [32mint[39;49m [33mvalue[39;49m;             [31m/** integer value */[39;49m[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33msucc[39;49m; [31m/** next key-value in chain */[39;49m[K
};[K
[K
[31m/** Given some chain keyValues of key-value struct's, add the                                       [39;49m
[A
[31m *  key-value (k, v) at head of chain keyValues and return the                                      [39;49m
[A
[31m *  resulting chain.                                                                                [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34madd_key_value[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m, [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mk[39;49m, [32mint[39;49m [33mv[39;49m)[K
{[K
  [31m//allocate storage for new KeyValue struct                                                        [39;49m
[A
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkv[39;49m = malloc([1m[36msizeof[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m));[K
[K
  [32mchar[39;49m * [33ms[39;49m = malloc(strlen(k) + 1);[K
[K
  [1m[36mif[0m[39;49m (kv == [35mNULL[39;49m || s == [35mNULL[39;49m) { [31m//check if allocations succeeded                                   [39;49m
[A
    fprintf(stderr, [32m"malloc failure: %s\n"[39;49m, strerror(errno));[K
    [31m//free((void*)keyValues->key);                                                                  [39;49m
[A
    [31m//free(keyValues);                                                                              [39;49m
[A
    [31m//free(s);                                                                                      [39;49m
[A
    exit(1);[K
  }[K
  strcpy(s, k);  [31m//copy string k into newly allocated memory pointed to by s                        [39;49m
[A
[7m-UU-:----F1  [0m[39;49m[27m[7m[1mbug-program.c[0m[39;49m[27m[7m   Top L2     (C/*l Abbrev) ----------------------------------------------[0m[39;49m[27m
[A[3d[?12l[?25h[?12;25h[34;35H[?25l[7m3[0m[39;49m[27m[4;1H[?12l[?25h[?12;25h[34;35H[?25l[7m4[0m[39;49m[27m[5;1H[?12l[?25h[?12;25h[34;35H[?25l[7m5[0m[39;49m[27m[6;1H[?12l[?25h[?12;25h[34;35H[?25l[7m6[0m[39;49m[27m[7;1H[?12l[?25h[?12;25h[34;35H[?25l[7m7[0m[39;49m[27m[8;1H[?12l[?25h[?12;25h[34;35H[?25l[7m8[0m[39;49m[27m[9;1H[?12l[?25h[?12;25h[34;35H[?25l[7m9[0m[39;49m[27m[10;1H[?12l[?25h[?12;25h[34;35H[?25l[7m10[0m[39;49m[27m[11;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[12;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[13;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[14;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[15;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[16;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[17;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;35H[?25l[7m20[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;35H[?25l[7m30[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[2;1H[16M[1;35r[18;1H[K
[?25l  [31m//initialize fields of *kv.                                                                       [39;49m
[A
  kv->key = s; kv->value = v; kv->succ = keyValues;[K
  [1m[36mreturn[0m[39;49m kv;[K
}[K
[K
[31m/** Free all the key-value's in keyValues. */[39;49m[K
[1m[36mstatic[0m[39;49m [32mvoid[39;49m[K
[1m[34mfree_key_values[0m[39;49m([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mkeyValues[39;49m)[K
{[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m * [33mnext[39;49m = [35mNULL[39;49m;[K
  [31m//go thru chain of keyValues                                                                      [39;49m
[A
  [1m[36mfor[0m[39;49m ([1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = keyValues; p != [35mNULL[39;49m;) {[K
    free(([32mvoid[39;49m*)p->key);[K
    next = p->succ;[K
    free(p);[K[34;30H[7m21% L33[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[20;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[21;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[22;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[23;1H[?12l[?25h[?12;25h[34;36H[?25l[7m9[0m[39;49m[27m[24;1H[?12l[?25h[?12;25h[34;35H[?25l[7m40[0m[39;49m[27m[25;1H[?12l[?25h[?12;25h[34;36H[?25l[7m1[0m[39;49m[27m[26;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m2[0m[39;49m[27m[27;1H[?12l[?25h[?12;25h[34;36H[?25l[7m3[0m[39;49m[27m[28;1H[?12l[?25h[?12;25h[34;36H[?25l[7m4[0m[39;49m[27m[29;1H[?12l[?25h[?12;25h[34;36H[?25l[7m5[0m[39;49m[27m[30;1H[?12l[?25h[?12;25h[34;36H[?25l[7m6[0m[39;49m[27m[31;1H[?12l[?25h[?12;25h[34;36H[?25l[7m7[0m[39;49m[27m[32;1H[?12l[?25h[?12;25h[34;36H[?25l[7m8[0m[39;49m[27m[A[?12l[?25h[?12;25h[1;33r[3;1H[16M[1;35r[2;1H[K[18d[?25l    p = next;[K
  }[K
}[K
[K
[31m/** Make key-values for all the words in the first verse of Carroll's                               [39;49m
[A
[31m *  Jabberwocky with value being the index of the word.                                             [39;49m
[A
[31m */[39;49m[K
[1m[36mstatic[0m[39;49m [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[K
[1m[34mmake_key_values[0m[39;49m([32mvoid[39;49m) {[K
  [1m[36mconst[0m[39;49m [32mchar[39;49m *[33mkeys[39;49m[] = {[K
    [32m"twas"[39;49m, [32m"brillig"[39;49m, [32m"and"[39;49m, [32m"the"[39;49m, [32m"slithy"[39;49m, [32m"toves"[39;49m,[K
    [32m"did"[39;49m, [32m"gyre"[39;49m, [32m"and"[39;49m, [32m"gimble"[39;49m, [32m"in"[39;49m, [32m"the"[39;49m, [32m"wabe"[39;49m,[K
    [32m"all"[39;49m, [32m"mimsy"[39;49m, [32m"were"[39;49m, [32m"the"[39;49m, [32m"borogoves"[39;49m,[K
    [32m"and"[39;49m, [32m"the"[39;49m, [32m"mome"[39;49m, [32m"raths"[39;49m, [32m"outgrabe"[39;49m,[K
  };[K
  [1m[36mstruct[0m[39;49m [32mKeyValue[39;49m *[33mp[39;49m = [35mNULL[39;49m;[K
[C[7m44% L49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[34;35H[?25l[7m50[0m[39;49m[27m[19;1H[?12l[?25h[?12;25h[34;35H[?25l[7m49[0m[39;49m[27m[18;1H[?12l[?25h[?12;25h[35d[K[?2004l[?1l>[?12l[?25h[?1049l[23;0;0t[39;49mthur1@remote03:~/git-repos/i220a/work/lab6/files/bug-program$ r[Kcd ..
thur1@remote03:~/git-repos/i220a/work/lab6/files$ cd ..
thur1@remote03:~/git-repos/i220a/work/lab6$ exit

Script done on 2019-10-18 13:54:38-04:00 [COMMAND_EXIT_CODE="0"]
